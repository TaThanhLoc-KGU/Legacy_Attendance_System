2025-08-17 13:37:23 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-17 13:37:23 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 7100 (C:\Users\thanh\Downloads\AttendaceProjectBackend-b721c5a81a6fb2a8c2e8692e6c0c95e06e71f128\target\classes started by thanh in C:\Users\thanh\Downloads\AttendaceProjectBackend-b721c5a81a6fb2a8c2e8692e6c0c95e06e71f128)
2025-08-17 13:37:23 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-17 13:37:23 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-17 13:37:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-17 13:37:23 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-17 13:37:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-17 13:37:25 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 16 ms. Found 0 JPA repository interfaces.
2025-08-17 13:37:26 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthEndpointGroupsBeanPostProcessor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed
2025-08-17 13:37:26 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-17 13:37:26 [restartedMain] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthEndpointGroupsBeanPostProcessor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:277)
	at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:808)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:611)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.cache.annotation.ProxyCachingConfiguration': BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:119)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:105)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1154)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1129)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	... 17 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': BeanPostProcessor before instantiation of bean failed
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:518)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:413)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1361)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:563)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.aop.framework.autoproxy.BeanFactoryAdvisorRetrievalHelper.findAdvisorBeans(BeanFactoryAdvisorRetrievalHelper.java:91)
	at org.springframework.aop.framework.autoproxy.AbstractAdvisorAutoProxyCreator.findCandidateAdvisors(AbstractAdvisorAutoProxyCreator.java:119)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:92)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:105)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1154)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1129)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	... 38 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/tathanhloc/faceattendance/Aspect/LoggingAspect$LogActivity
	at java.base/java.lang.Class.getDeclaredMethods0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3035)
	at java.base/java.lang.Class.getDeclaredMethods(Class.java:2331)
	at org.aspectj.internal.lang.reflect.AjTypeImpl.getDeclarePrecedence(AjTypeImpl.java:1005)
	at org.springframework.aop.aspectj.annotation.AspectMetadata.<init>(AspectMetadata.java:97)
	at org.springframework.aop.aspectj.annotation.BeanFactoryAspectJAdvisorsBuilder.buildAspectJAdvisors(BeanFactoryAspectJAdvisorsBuilder.java:112)
	at org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator.findCandidateAdvisors(AnnotationAwareAspectJAutoProxyCreator.java:95)
	at org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator.shouldSkip(AspectJAwareAdvisorAutoProxyCreator.java:105)
	at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessBeforeInstantiation(AbstractAutoProxyCreator.java:280)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1154)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.resolveBeforeInstantiation(AbstractAutowireCapableBeanFactory.java:1129)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:512)
	... 59 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.tathanhloc.faceattendance.Aspect.LoggingAspect$LogActivity
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:580)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
	at java.base/java.lang.Class.forName0(Native Method)
	at java.base/java.lang.Class.forName(Class.java:543)
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:490)
	... 71 common frames omitted
2025-08-17 13:38:28 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-17 13:38:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 2264 (C:\Users\thanh\Downloads\AttendaceProjectBackend-b721c5a81a6fb2a8c2e8692e6c0c95e06e71f128\target\classes started by thanh in C:\Users\thanh\Downloads\AttendaceProjectBackend-b721c5a81a6fb2a8c2e8692e6c0c95e06e71f128)
2025-08-17 13:38:29 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-17 13:38:29 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-17 13:38:29 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-17 13:38:29 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-17 13:38:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-17 13:38:30 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 101 ms. Found 21 JPA repository interfaces.
2025-08-17 13:38:31 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-17 13:38:31 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-17 13:38:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-17 13:38:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-17 13:38:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-17 13:38:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-17 13:38:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-17 13:38:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2310 ms
2025-08-17 13:38:31 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-17 13:38:31 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-17 13:38:31 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-17 13:38:31 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-17 13:38:31 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-17 13:38:32 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-17 13:38:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-17 13:38:32 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@133c440b
2025-08-17 13:38:32 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-17 13:38:32 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-17 13:38:32 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-17 13:38:32 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-17 13:38:33 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-17 13:38:34 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table diemdanh 
       modify column thoi_gian_ra time(6)
2025-08-17 13:38:34 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table diemdanh 
       modify column thoi_gian_vao time(6)
2025-08-17 13:38:34 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-17 13:38:34 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 13:38:34 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-17 13:38:34 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 13:38:34 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-17 13:38:35 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-17 13:38:39 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-17 13:38:39 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-17 13:38:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-17 13:38:40 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-17 13:38:40 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-17 13:38:40 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-17 13:38:40 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-17 13:38:40 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-17 13:38:40 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-17 13:38:40 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-17 13:38:40 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-17 13:38:40 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-17 13:38:41 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-17 13:38:41 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-17 13:38:42 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-17 13:38:42 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]
2025-08-17 13:38:42 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]]
2025-08-17 13:38:42 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:38:42 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:38:42 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-17 13:38:42 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-17 13:38:42 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 13.984 seconds (process running for 14.8)
2025-08-17 13:38:42 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4ac4dee5
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7e875185
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-17 13:38:42 [RMI TCP Connection(1)-172.168.1.234] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-17 13:38:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-17 13:38:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:38:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/lecturer/lophoc/G09412_01?continue to session
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 13:38:49 [http-nio-8080-exec-2] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:38:49 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 13:38:51 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: gv005
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:38:51 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: GV005 with role: GIANGVIEN and active status: true
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '7A9791B4F07ED97A92225DF5B488F3F2' and migrating attributes.
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 460DE1AFA2CFB23D1CB96449C6C610D5
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 7A9791B4F07ED97A92225DF5B488F3F2
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 460DE1AFA2CFB23D1CB96449C6C610D5, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4f006d8b]
2025-08-17 13:38:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]
2025-08-17 13:38:51 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/dashboard
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/dashboard
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/dashboard", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:38:51 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - === LECTURER DASHBOARD ACCESS ===
2025-08-17 13:38:51 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - User: GV005
2025-08-17 13:38:51 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading lecturer dashboard for lecturer: GV005
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 13:38:51 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ✅ Lecturer dashboard loaded successfully for GV005: 1 classes, 6 students, 0 classes today
2025-08-17 13:38:51 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:38:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:38:51 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:38:51 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:38:51 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:38:51 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:38:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:51 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-17 13:38:52 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:52 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - ✅ Classes page loaded successfully for lecturer GV005: 1 classes
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-17 13:38:52 [http-nio-8080-exec-8] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-17 13:38:52 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:52 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - ✅ Found 1 classes for lecturer GV005
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-8] INFO  c.t.f.C.LecturerApiController - ✅ Statistics calculated for lecturer GV005: 1 classes, 6 students
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@754a6084]
2025-08-17 13:38:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:38:52 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:38:52 [http-nio-8080-exec-9] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:38:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-17 13:38:52 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-17 13:38:52 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayKe (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026-0 (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:38:52 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:38:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:52 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-17 13:38:54 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - ✅ Class details loaded for G09412_01: 6 students
2025-08-17 13:38:54 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:38:54 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:38:54 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:38:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:54 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-17 13:38:54 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Tính tỷ lệ điểm danh cho lớp G09412_01
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=0, totalStudents=6, presentCount=0, absentCount=0, lateCount=0, exc (truncated)...]
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:54 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=0, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-17 13:38:54 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] INFO  c.t.f.C.AttendanceReportController - ✅ Calculated semester info for G09412_01: 12 weeks, 0 sessions/week, 0 total sessions
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=6, studentStats=[{totalSessions=0, maSv=21072006025, presentCount=0, (truncated)...]
2025-08-17 13:38:58 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:38:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/by-lhp/G09412_01
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/by-lhp/G09412_01
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/by-lhp/G09412_01", parameters={}
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getByLopHocPhan(String)
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-17 13:39:01 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-17 13:39:05 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:05 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - ✅ Classes page loaded successfully for lecturer GV005: 1 classes
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:39:05 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:05 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-17 13:39:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-17 13:39:05 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:05 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-17 13:39:05 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-17 13:39:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-17 13:39:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-17 13:39:05 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-17 13:39:05 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-17 13:39:05 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:05 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-17 13:39:05 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-17 13:39:05 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-17 13:39:05 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-17 13:39:05 [http-nio-8080-exec-5] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:06 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - ✅ Found 1 classes for lecturer GV005
2025-08-17 13:39:06 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerApiController - ✅ Statistics calculated for lecturer GV005: 1 classes, 6 students
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@7899ea8]
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:39:06 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:39:06 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:39:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-17 13:39:06 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-17 13:39:06 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026-0 (truncated)...]
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayKe (truncated)...]
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:39:06 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:39:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-17 13:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@35066b3e, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7A9791B4F07ED97A92225DF5B488F3F2], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 460DE1AFA2CFB23D1CB96449C6C610D5
2025-08-17 13:39:06 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 13:39:06 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 13:39:06 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 13:39:06 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 13:39:06 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-17 13:39:06 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:39:06 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 13:39:10 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:39:10 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 728C3AF1F5583243C7121ED067C25B53, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@b65a3ee]
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-17 13:39:10 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=59, status=success}]
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-17 13:39:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-17 13:39:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-17 13:39:10 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=13220, logLevel=ERROR, module=API, action=LopHocPhanController.getById, message=API (truncated)...]
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-17 13:39:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-17 13:39:11 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-17 13:39:11 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:11 [http-nio-8080-exec-8] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-08-17 13:39:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:11 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=17340, errorsLast24h=0, statusStats={SUCCESS=17296, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-17 13:39:11 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 3469 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-17 13:39:11 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:11 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:11 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:39:11 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:39:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:11 [SimpleAsyncTaskExecutor-37] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=17346, errorsLast24h=0, statusStats={SUCCESS=17299, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-17 13:39:11 [SimpleAsyncTaskExecutor-38] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-39] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:39:13 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:39:13 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:39:13 [http-nio-8080-exec-2] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:39:13 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:13 [http-nio-8080-exec-8] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-41] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-40] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-42] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-43] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-44] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-45] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:39:13 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:39:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:13 [SimpleAsyncTaskExecutor-46] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:39:16 [http-nio-8080-exec-7] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:39:16 [http-nio-8080-exec-1] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:16 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:39:16 [http-nio-8080-exec-4] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:39:16 [http-nio-8080-exec-9] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-48] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-47] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-49] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-50] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-51] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:39:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:16 [SimpleAsyncTaskExecutor-52] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:39:17 [http-nio-8080-exec-8] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:39:17 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:39:17 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:39:17 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:39:17 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:17 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-54] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-53] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-55] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-56] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-57] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:39:17 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:17 [SimpleAsyncTaskExecutor-58] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:39:21 [SimpleAsyncTaskExecutor-59] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 13:39:22 [SimpleAsyncTaskExecutor-60] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:39:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:39:23 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:39:23 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-62] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-61] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-64] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-63] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-65] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-66] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:39:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-4] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:39:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-67] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:39:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-68] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-69] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-70] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 13:39:23 [http-nio-8080-exec-6] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:39:23 [http-nio-8080-exec-6] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-17 13:39:23 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-71] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:23 [SimpleAsyncTaskExecutor-72] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:42 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc", parameters={}
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#create(LichHocDTO)
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=1, maLhp=G09412_01, maPhong=A507, isActiv (truncated)...]
2025-08-17 13:39:49 [http-nio-8080-exec-5] INFO  c.t.f.Service.LichHocService - Creating new schedule: LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=1, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-17 13:39:49 [http-nio-8080-exec-5] INFO  c.t.f.Service.LichHocService - Schedule created successfully: LH774445MN4
2025-08-17 13:39:49 [SimpleAsyncTaskExecutor-73] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        lichhoc
        (created_at, is_active, ma_lhp, ma_phong, so_tiet, thu, tiet_bat_dau, updated_at, ma_lich) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:49 [SimpleAsyncTaskExecutor-74] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Tạo lịch học thành công!, data=LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=1 (truncated)...]
2025-08-17 13:39:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=1, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:39:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:39:49 [SimpleAsyncTaskExecutor-75] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActive=null, (truncated)...]
2025-08-17 13:39:59 [http-nio-8080-exec-9] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[Phòng A507 đã có lịch học trong thời gian này, Giảng viên đã có lịch dạy trong thờ (truncated)...]
2025-08-17 13:39:59 [SimpleAsyncTaskExecutor-76] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:39:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH774445MN4
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH774445MN4
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH774445MN4", parameters={}
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActiv (truncated)...]
2025-08-17 13:40:01 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH774445MN4: LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:01 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH774445MN4, DTO: LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:01 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-17 13:40:01 [SimpleAsyncTaskExecutor-77] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soT (truncated)...]
2025-08-17 13:40:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:01 [SimpleAsyncTaskExecutor-78] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:01 [SimpleAsyncTaskExecutor-79] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-80] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:10 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-83] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-81] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-82] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-85] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-84] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-10] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-87] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-86] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-88] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-89] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-90] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 13:40:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:40:10 [http-nio-8080-exec-4] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-91] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:10 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:10 [SimpleAsyncTaskExecutor-92] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-93] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:31 [http-nio-8080-exec-5] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:31 [http-nio-8080-exec-2] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-94] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:31 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:31 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:31 [http-nio-8080-exec-3] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-95] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-97] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-96] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-98] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-99] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:31 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:31 [SimpleAsyncTaskExecutor-100] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-101] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:33 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:33 [http-nio-8080-exec-5] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:33 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:33 [http-nio-8080-exec-6] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-102] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-103] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-104] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-105] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-106] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-107] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:33 [SimpleAsyncTaskExecutor-108] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-109] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:35 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:35 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:35 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-110] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-111] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-112] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-113] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-114] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-115] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:35 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:35 [SimpleAsyncTaskExecutor-116] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-117] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:36 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:36 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:36 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:36 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:36 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-118] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-119] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-120] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-121] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-122] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-123] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:36 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:36 [SimpleAsyncTaskExecutor-124] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:37 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:37 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:37 [http-nio-8080-exec-10] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:37 [http-nio-8080-exec-4] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:37 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-126] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-125] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-127] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-128] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-129] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:37 [SimpleAsyncTaskExecutor-130] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/taikhoan", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#taikhoanManagement(Authentication, Model)
2025-08-17 13:40:41 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Admin taikhoan management access: admin
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-131] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-17 13:40:41 [http-nio-8080-exec-4] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-17 13:40:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-132] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-133] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-134] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-8] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-135] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-136] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-137] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:41 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:41 [SimpleAsyncTaskExecutor-138] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/monhoc
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/monhoc
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/monhoc", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#monhocManagement(Authentication, Model)
2025-08-17 13:40:48 [SimpleAsyncTaskExecutor-139] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/nganh
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/nganh
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/nganh", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NganhController#getAllActive()
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:40:48 [http-nio-8080-exec-5] INFO  c.t.f.Controller.NganhController - Lấy danh sách ngành đang hoạt động
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG c.t.f.Service.NganhService - Lấy danh sách ngành đang hoạt động từ database
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:40:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [SimpleAsyncTaskExecutor-140] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    where
        l1_0.ma_nganh=? 
        and sv1_0.is_active=1 
        and l1_0.is_active=1
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    where
        l1_0.ma_nganh=? 
        and sv1_0.is_active=1 
        and l1_0.is_active=1
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    where
        l1_0.ma_nganh=? 
        and sv1_0.is_active=1 
        and l1_0.is_active=1
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    where
        l1_0.ma_nganh=? 
        and sv1_0.is_active=1 
        and l1_0.is_active=1
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NganhDTO(maNganh=CNTT, tenNganh=Công Nghệ Thông Tin, maKhoa=TTTT, tenKhoa=Thông tin và Truyền thông (truncated)...]
2025-08-17 13:40:48 [SimpleAsyncTaskExecutor-141] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:48 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:48 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:49 [SimpleAsyncTaskExecutor-142] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:49 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:49 [SimpleAsyncTaskExecutor-143] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lop
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lop
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lop", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lopManagement(Authentication, Model)
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-144] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/nganh
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoahoc
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/nganh
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoahoc
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoahoc", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/nganh", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaHocController#getAll()
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NganhController#getAllActive()
2025-08-17 13:40:50 [http-nio-8080-exec-5] INFO  c.t.f.Controller.NganhController - Lấy danh sách ngành đang hoạt động
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NganhDTO(maNganh=CNTT, tenNganh=Công Nghệ Thông Tin, maKhoa=TTTT, tenKhoa=Thông tin và Truyền thông (truncated)...]
2025-08-17 13:40:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-145] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-146] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaHocDTO(maKhoahoc=K20, tenKhoahoc=Khóa 20, namBatDau=2020, namKetThuc=2024, isActive=null), Khoa (truncated)...]
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-147] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count/active
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop/all
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count/active
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop/all
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count/active", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lop/all", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopController#getAll()
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#countActiveSinhVien()
2025-08-17 13:40:50 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Đếm tổng số sinh viên đang hoạt động
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0 
    where
        sv1_0.is_active
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [55]
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-148] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopDTO(maLop=21DTHC1, tenLop=Đại Trà Hệ Chính Quy 1, maNganh=CNTT, maKhoahoc=K21, maKhoa=null, isAc (truncated)...]
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-149] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:50 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:50 [SimpleAsyncTaskExecutor-150] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-151] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:52 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:52 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-152] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-153] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-154] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-155] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-156] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-157] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-10] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-158] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-159] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-160] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-161] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-162] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 13:40:52 [http-nio-8080-exec-1] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:40:52 [http-nio-8080-exec-1] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:52 [SimpleAsyncTaskExecutor-163] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-164] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-17 13:40:55 [http-nio-8080-exec-3] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:55 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:55 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:55 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:55 [http-nio-8080-exec-2] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-165] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-166] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-167] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-168] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-169] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-170] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:55 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:55 [SimpleAsyncTaskExecutor-171] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-172] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:40:59 [http-nio-8080-exec-3] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:40:59 [http-nio-8080-exec-10] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-173] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-174] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-175] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-176] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-177] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:40:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-178] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-8] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-179] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-180] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-181] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-182] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 13:40:59 [http-nio-8080-exec-9] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:40:59 [http-nio-8080-exec-9] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:40:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:40:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-183] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:40:59 [SimpleAsyncTaskExecutor-184] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/baocao-diemdanh
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/baocao-diemdanh
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/baocao-diemdanh", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#baocaoDiemdanhManagement(Authentication, Model)
2025-08-17 13:41:01 [SimpleAsyncTaskExecutor-185] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/statistics
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/statistics
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/statistics", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStatistics()
2025-08-17 13:41:01 [http-nio-8080-exec-7] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 13:41:01 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - Lấy thống kê điểm danh tổng quan
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(distinct dd1_0.ma_lich) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 13:41:01 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [SimpleAsyncTaskExecutor-186] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{todayLate=0, totalExcused=0, todayAbsent=0, totalAbsent=2, totalLate=1, totalPresent=9, todayClasse (truncated)...]
2025-08-17 13:41:01 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [SimpleAsyncTaskExecutor-187] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 13:41:01 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:01 [SimpleAsyncTaskExecutor-188] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/recent-history?limit=50
2025-08-17 13:41:01 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/recent-history?limit=50
2025-08-17 13:41:01 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/recent-history?limit=50", parameters={masked}
2025-08-17 13:41:01 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getRecentHistory(int)
2025-08-17 13:41:01 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - Lấy lịch sử điểm danh gần nhất, limit: 50
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 13:41:01 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:01 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:41:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:02 [SimpleAsyncTaskExecutor-189] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:02 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    SELECT
        lh.ngay_hoc as date,
        mh.ten_mon_hoc as subjectName,
        mh.ma_mon_hoc as subjectCode,
        lhp.ma_lhp as className,
        gv.ho_ten as lecturerName,
        ph.ten_phong as roomName,
        CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
        COUNT(CASE 
            WHEN dd.trang_thai = 'CO_MAT' 
                THEN 1 
        END) as present,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_MAT' 
                THEN 1 
        END) as absent,
        COUNT(CASE 
            WHEN dd.trang_thai = 'DI_TRE' 
                THEN 1 
        END) as late,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_CO_PHEP' 
                THEN 1 
        END) as excused,
        COUNT(dd.id) as totalStudents 
    FROM
        lich_hoc lh 
    JOIN
        lop_hoc_phan lhp 
            ON lh.ma_lhp = lhp.ma_lhp 
    JOIN
        mon_hoc mh 
            ON lhp.ma_mon_hoc = mh.ma_mon_hoc 
    JOIN
        giang_vien gv 
            ON lhp.ma_gv = gv.ma_gv 
    JOIN
        phong_hoc ph 
            ON lh.ma_phong = ph.ma_phong 
    LEFT JOIN
        diem_danh dd 
            ON lh.ma_lich = dd.ma_lich 
    WHERE
        lh.ngay_hoc <= CURRENT_DATE 
    GROUP BY
        lh.ma_lich,
        lh.ngay_hoc,
        mh.ten_mon_hoc,
        mh.ma_mon_hoc,
        lhp.ma_lhp,
        gv.ho_ten,
        ph.ten_phong,
        lh.ca_hoc,
        lh.gio_bat_dau,
        lh.gio_ket_thuc 
    ORDER BY
        lh.ngay_hoc DESC,
        lh.gio_bat_dau DESC 
    LIMIT
        ? 
2025-08-17 13:41:02 [http-nio-8080-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1146, SQLState: 42S02
2025-08-17 13:41:02 [http-nio-8080-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Table 'face_attendance.lich_hoc' doesn't exist
2025-08-17 13:41:02 [http-nio-8080-exec-2] ERROR c.t.f.Service.DiemDanhService - Error getting recent attendance history
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance.lich_hoc' doesn't exist] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy192.findRecentAttendanceHistory(Unknown Source)
	at com.tathanhloc.faceattendance.Service.DiemDanhService.getRecentAttendanceHistory(DiemDanhService.java:379)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Service.DiemDanhService$$SpringCGLIB$$0.getRecentAttendanceHistory(<generated>)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController.getRecentHistory(DiemDanhController.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.tathanhloc.faceattendance.Aspect.LoggingAspect.logControllerMethods(LoggingAspect.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController$$SpringCGLIB$$0.getRecentHistory(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance.lich_hoc' doesn't exist] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52)
	at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:194)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:340)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:135)
	at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:693)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 173 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'face_attendance.lich_hoc' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1056)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 203 common frames omitted
2025-08-17 13:41:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-17 13:41:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:02 [SimpleAsyncTaskExecutor-190] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:02 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 13:41:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:02 [SimpleAsyncTaskExecutor-191] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-17 13:41:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4bfc5283, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 13:41:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 728C3AF1F5583243C7121ED067C25B53
2025-08-17 13:41:10 [http-nio-8080-exec-3] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 13:41:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 13:41:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 13:41:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 13:41:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-17 13:41:10 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:10 [SimpleAsyncTaskExecutor-192] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 13:41:12 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: gv005
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:12 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: GV005 with role: GIANGVIEN and active status: true
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D436135C5E85BCA5D6786E474546BDA0, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@74634118]
2025-08-17 13:41:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]
2025-08-17 13:41:12 [SimpleAsyncTaskExecutor-193] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/dashboard
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/dashboard
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/dashboard", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:41:12 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - === LECTURER DASHBOARD ACCESS ===
2025-08-17 13:41:12 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - User: GV005
2025-08-17 13:41:12 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - Loading lecturer dashboard for lecturer: GV005
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 13:41:12 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - ✅ Lecturer dashboard loaded successfully for GV005: 1 classes, 6 students, 0 classes today
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:12 [SimpleAsyncTaskExecutor-194] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:12 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:41:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [SimpleAsyncTaskExecutor-195] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:12 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:41:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:12 [SimpleAsyncTaskExecutor-196] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-17 13:41:14 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:14 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - ✅ Classes page loaded successfully for lecturer GV005: 1 classes
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-197] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:41:14 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-17 13:41:14 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:14 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - ✅ Statistics calculated for lecturer GV005: 1 classes, 6 students
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerApiController - ✅ Found 1 classes for lecturer GV005
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@620f359c]
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-198] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-199] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:41:14 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:41:14 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-201] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-200] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-17 13:41:14 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-17 13:41:14 [http-nio-8080-exec-3] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026-0 (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayKe (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-203] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-202] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:14 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:41:14 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:14 [SimpleAsyncTaskExecutor-204] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-17 13:41:15 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:41:15 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - ✅ Class details loaded for G09412_01: 6 students
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:15 [SimpleAsyncTaskExecutor-205] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:15 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:15 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:41:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:15 [SimpleAsyncTaskExecutor-206] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-17 13:41:16 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - Tính tỷ lệ điểm danh cho lớp G09412_01
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=6, presentCount=0, absentCount=0, lateCount=0, exc (truncated)...]
2025-08-17 13:41:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:16 [SimpleAsyncTaskExecutor-207] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=0, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-17 13:41:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:16 [SimpleAsyncTaskExecutor-208] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/by-lhp/G09412_01
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/by-lhp/G09412_01
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/by-lhp/G09412_01", parameters={}
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getByLopHocPhan(String)
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 13:41:17 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:17 [SimpleAsyncTaskExecutor-209] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/by-malich/LH774445MN4?date=2025-08-17
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/by-malich/LH774445MN4?date=2025-08-17
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/by-malich/LH774445MN4?date=2025-08-17", parameters={masked}
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getByMaLich(String, LocalDate)
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-17 13:41:27 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:27 [SimpleAsyncTaskExecutor-210] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/diemdanh/manual?maLich=LH774445MN4&ngayDiemDanh=2025-08-17
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/diemdanh/manual?maLich=LH774445MN4&ngayDiemDanh=2025-08-17
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/diemdanh/manual?maLich=LH774445MN4&ngayDiemDanh=2025-08-17", parameters={masked}
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#createManualAttendance(String, LocalDate, List)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [[ManualAttendanceRequest(maSv=21072004080, trangThai=CO_MAT, thoiGianVao=13:41, thoiGianRa=null), Ma (truncated)...]
2025-08-17 13:41:30 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - Tạo điểm danh thủ công cho lịch LH774445MN4 ngày 2025-08-17
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        lh1_0.ma_lich=? 
        and sv1_0.ma_sv=? 
        and dd1_0.ngay_diem_danh=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        diemdanh
        (ma_lich, ngay_diem_danh, ma_sv, thoi_gian_ra, thoi_gian_vao, trang_thai) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:30 [SimpleAsyncTaskExecutor-211] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DiemDanhDTO(id=49, ngayDiemDanh=2025-08-17, trangThai=CO_MAT, thoiGianVao=13:41, thoiGianRa=null, m (truncated)...]
2025-08-17 13:41:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-17 13:41:30 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - Tính tỷ lệ điểm danh cho lớp G09412_01
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=6, presentCount=6, absentCount=0, lateCount=0, exc (truncated)...]
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:30 [SimpleAsyncTaskExecutor-212] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=1, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-17 13:41:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:30 [SimpleAsyncTaskExecutor-213] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.C.AttendanceReportController - ✅ Calculated semester info for G09412_01: 12 weeks, 1 sessions/week, 12 total sessions
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã lịch: LH774445MN4
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=6, studentStats=[{totalSessions=1, maSv=21072006025, presentCount=1, (truncated)...]
2025-08-17 13:41:35 [SimpleAsyncTaskExecutor-214] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-17 13:41:40 [http-nio-8080-exec-7] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:41:40 [http-nio-8080-exec-7] INFO  c.t.f.C.LecturerDashboardController - ✅ Classes page loaded successfully for lecturer GV005: 1 classes
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-215] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-17 13:41:40 [http-nio-8080-exec-3] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-17 13:41:40 [http-nio-8080-exec-3] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 13:41:40 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - ✅ Found 1 classes for lecturer GV005
2025-08-17 13:41:40 [http-nio-8080-exec-3] INFO  c.t.f.C.LecturerApiController - ✅ Statistics calculated for lecturer GV005: 1 classes, 6 students
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@71353d7e]
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-216] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-217] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 13:41:40 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 13:41:40 [http-nio-8080-exec-4] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-218] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-219] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-17 13:41:40 [http-nio-8080-exec-8] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-17 13:41:40 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayKe (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026-0 (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-220] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-221] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:41:40 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Hoàng Văn E, maSo=GV005 (truncated)...]
2025-08-17 13:41:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:40 [SimpleAsyncTaskExecutor-222] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-17 13:41:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@43a2a979, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-17 13:41:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session D436135C5E85BCA5D6786E474546BDA0
2025-08-17 13:41:41 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 13:41:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 13:41:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 13:41:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 13:41:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-17 13:41:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:41:41 [SimpleAsyncTaskExecutor-223] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:41:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:41:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:41:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 13:44:10 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:44:10 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: 21072006095 with role: SINHVIEN and active status: true
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 609E1813508D5985226D507B451A2725, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@61d19d1e]
2025-08-17 13:44:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]
2025-08-17 13:44:10 [SimpleAsyncTaskExecutor-224] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - User: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - Biometric Status: completed (embedding: true, faceCount: 5)
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:44:10 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-17 13:44:10 [SimpleAsyncTaskExecutor-225] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:44:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:10 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [SimpleAsyncTaskExecutor-226] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:10 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:10 [SimpleAsyncTaskExecutor-227] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-228] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/profile/profile_21072006095_1755023616263.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg | Message: No static resource students/21072006095/profile/profile_21072006095_1755023616263.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-229] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-230] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{maxCount=5, slots={0={createdAt=2025-08-05T16:19:41, filename=face_21072006095_slot0_1754385581558. (truncated)...]
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-231] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg", parameters={}
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-232] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-233] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg.]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:12 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg.
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:12 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:12 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-236] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-235] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-234] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:12 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:12 [SimpleAsyncTaskExecutor-237] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-238] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/profile/profile_21072006095_1755023616263.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg | Message: No static resource students/21072006095/profile/profile_21072006095_1755023616263.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-239] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-17 13:44:22 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:22 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-240] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{maxCount=5, slots={0={createdAt=2025-08-05T16:19:41, filename=face_21072006095_slot0_1754385581558. (truncated)...]
2025-08-17 13:44:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-241] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:44:22 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-242] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-244] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-243] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg.]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-245] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 13:44:22 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg | Message: No static resource students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg.
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 13:44:22 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 13:44:22 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-246] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 13:44:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5474c96, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:44:22 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:44:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:44:22 [SimpleAsyncTaskExecutor-247] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-17 13:45:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@208cf472]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-17 13:45:29 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-17 13:48:14 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-17 13:48:14 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 11956 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-17 13:48:14 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-17 13:48:14 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-17 13:48:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-17 13:48:14 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-17 13:48:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-17 13:48:15 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 21 JPA repository interfaces.
2025-08-17 13:48:16 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-17 13:48:16 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-17 13:48:16 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-17 13:48:16 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-17 13:48:16 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-17 13:48:16 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-17 13:48:16 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-17 13:48:16 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2076 ms
2025-08-17 13:48:16 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [10778C232443F88B1DA473471FE879E8]
2025-08-17 13:48:16 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-08-17 13:48:16 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-17 13:48:16 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-17 13:48:16 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-17 13:48:17 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-17 13:48:17 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-17 13:48:17 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-17 13:48:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-17 13:48:17 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c77bcb0
2025-08-17 13:48:17 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-17 13:48:17 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-17 13:48:17 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-17 13:48:17 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-17 13:48:18 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-17 13:48:18 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-17 13:48:19 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 13:48:19 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-17 13:48:19 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 13:48:19 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-17 13:48:19 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-17 13:48:23 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-17 13:48:23 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-17 13:48:24 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-17 13:48:24 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-17 13:48:24 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-17 13:48:24 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-17 13:48:24 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-17 13:48:24 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-17 13:48:25 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-17 13:48:25 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-17 13:48:25 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-17 13:48:25 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-17 13:48:25 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-17 13:48:25 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-17 13:48:25 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-17 13:48:25 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-17 13:48:25 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-17 13:48:25 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-17 13:48:25 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-17 13:48:26 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-17 13:48:26 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-17 13:48:26 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]
2025-08-17 13:48:26 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]]
2025-08-17 13:48:26 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:48:26 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 13:48:26 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-17 13:48:26 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-17 13:48:26 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 12.707 seconds (process running for 13.581)
2025-08-17 13:48:26 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@16269fab
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4e71adc5
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-17 13:48:26 [RMI TCP Connection(4)-172.168.1.234] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-17 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-17 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 609E1813508D5985226D507B451A2725
2025-08-17 13:48:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/student/profile?continue to session
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 13:48:30 [http-nio-8080-exec-3] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:30 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:30 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:30 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 13:48:32 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 21072006095
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:32 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: 21072006095 with role: SINHVIEN and active status: true
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id 'CD00A2254BCE9F6FE52DC876EC6ED81C' and migrating attributes.
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 2D4F83E56F378570A359236A0642328E
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from CD00A2254BCE9F6FE52DC876EC6ED81C
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 2D4F83E56F378570A359236A0642328E, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@296e2c1b]
2025-08-17 13:48:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]
2025-08-17 13:48:32 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - User: 21072006095
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 21072006095
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Biometric Status: completed (embedding: true, faceCount: 5)
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 21072006095
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:32 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-17 13:48:32 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:32 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:32 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:32 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:32 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/lichhoc
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/lichhoc
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/lichhoc", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#lichHoc(CustomUserDetails, Model)
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:34 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - ✅ Calendar grid prepared: 0 schedules
2025-08-17 13:48:34 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:34 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-17 13:48:34 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:34 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile/profile_21072006095_1755023616263.jpg", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-17 13:48:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:35 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-17 13:48:35 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{images=[{createdAt=2025-08-05T16:19:41, filename=face_21072006095_slot0_1754385581558.jpg, id=13, u (truncated)...]
2025-08-17 13:48:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot0_1754385581558.jpg", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot1_1754385583307.jpg", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot2_1754385585028.jpg", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot4_1755023644722.jpg", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/faces/face_21072006095_slot3_1754385586764.jpg", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:35 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - User: 21072006095
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 21072006095
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - Biometric Status: completed (embedding: true, faceCount: 5)
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 21072006095
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:39 [http-nio-8080-exec-6] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:39 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:39 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:39 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:39 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:39 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/lichhoc
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/lichhoc
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/lichhoc", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#lichHoc(CustomUserDetails, Model)
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:40 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - ✅ Calendar grid prepared: 0 schedules
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:40 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:40 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:40 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:40 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - User: 21072006095
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 21072006095
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Biometric Status: completed (embedding: true, faceCount: 5)
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 21072006095
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 13:48:47 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 13:48:47 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:47 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@33f4ab8f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=CD00A2254BCE9F6FE52DC876EC6ED81C], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 13:48:47 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 13:48:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 13:48:47 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 13:49:26 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-17 14:19:26 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-08-17 14:49:26 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 15:13:36 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 15:13:36 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 15:13:36 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 15:13:36 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 15:13:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:13:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 15:13:36 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 15:13:36 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 15:13:36 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 15:13:37 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 15:13:37 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:37 [http-nio-8080-exec-1] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 5E8CAB23139452C1FC6B2DFEAA2DCA5F, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3
2025-08-17 15:13:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@13c804d4]
2025-08-17 15:13:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 15:13:37 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 15:13:37 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 15:13:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 15:13:37 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-17 15:13:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 15:13:37 [http-nio-8080-exec-6] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 15:13:37 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:13:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-17 15:13:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:13:37 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@780cd1d3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-17 15:13:45 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 15:13:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 15:19:26 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-17 15:29:27 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3f2392db]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-17 15:29:27 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-17 22:40:44 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-17 22:40:45 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 30032 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-17 22:40:45 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-17 22:40:45 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-17 22:40:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-17 22:40:45 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-17 22:40:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-17 22:40:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 21 JPA repository interfaces.
2025-08-17 22:40:47 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-17 22:40:47 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-17 22:40:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-17 22:40:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-17 22:40:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-17 22:40:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-17 22:40:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-17 22:40:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2657 ms
2025-08-17 22:40:47 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [5E8CAB23139452C1FC6B2DFEAA2DCA5F]
2025-08-17 22:40:47 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-17 22:40:47 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-17 22:40:48 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-17 22:40:48 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-17 22:40:48 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-17 22:40:48 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-17 22:40:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-17 22:40:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@69d23cbd
2025-08-17 22:40:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-17 22:40:48 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-17 22:40:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-17 22:40:48 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-17 22:40:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-17 22:40:50 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-17 22:40:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 22:40:50 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-17 22:40:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-17 22:40:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-17 22:40:51 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-17 22:40:55 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-17 22:40:55 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-17 22:40:56 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-17 22:40:56 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-17 22:40:56 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-17 22:40:56 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-17 22:40:56 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-17 22:40:56 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-17 22:40:56 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-17 22:40:56 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-17 22:40:56 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-17 22:40:56 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-17 22:40:56 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-17 22:40:56 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-17 22:40:57 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-17 22:40:58 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-17 22:40:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a095060]
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a095060]
2025-08-17 22:40:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@1a095060]]
2025-08-17 22:40:58 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 22:40:58 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-17 22:40:58 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-17 22:40:58 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-17 22:40:58 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 13.878 seconds (process running for 15.206)
2025-08-17 22:40:58 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@58679e0f
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@6df7890a
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-17 22:40:58 [RMI TCP Connection(4)-172.20.10.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-08-17 22:41:58 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-17 23:09:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.html
2025-08-17 23:09:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.html
2025-08-17 23:09:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.html", parameters={}
2025-08-17 23:09:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui.css
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui.css
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui.css", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/index.css
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/index.css
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/index.css", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-ui-bundle.js
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /swagger-ui/swagger-initializer.js
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-standalone-preset.js
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-standalone-preset.js", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-ui-bundle.js
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-ui-bundle.js", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /swagger-ui/swagger-initializer.js
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/swagger-ui/swagger-initializer.js", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [META-INF/resources/webjars/]]
2025-08-17 23:09:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs/swagger-config
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs/swagger-config
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs/swagger-config", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.ui.SwaggerConfigResource#openapiJson(HttpServletRequest)
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json]
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{configUrl=/v3/api-docs/swagger-config, oauth2RedirectUrl=http://localhost:8080/swagger-ui/oauth2-re (truncated)...]
2025-08-17 23:09:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v3/api-docs
2025-08-17 23:09:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /v3/api-docs
2025-08-17 23:09:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/v3/api-docs", parameters={}
2025-08-17 23:09:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to org.springdoc.webmvc.api.OpenApiWebMvcResource#openapiJson(HttpServletRequest, String, Locale)
2025-08-17 23:09:47 [http-nio-8080-exec-4] INFO  o.s.api.AbstractOpenApiResource - Init duration for springdoc-openapi is: 1333 ms
2025-08-17 23:09:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, */*] and supported [application/json]
2025-08-17 23:09:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [{123, 34, 111, 112, 101, 110, 97, 112, 105, 34, 58, 34, 51, 46, 49, 46, 48, 34, 44, 34, 105, 110, 10 (truncated)...]
2025-08-17 23:09:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/", parameters={}
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:09:49 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:09:49 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:09:49 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:09:49 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:09:49 [http-nio-8080-exec-9] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:09:49 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource /favicon.ico.]
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:09:49 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /favicon.ico | Message: No static resource /favicon.ico.
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-17 23:09:49 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 23:09:49 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 23:09:49 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:09:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:09:51 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 21072006095
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:09:51 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: 21072006095 with role: SINHVIEN and active status: true
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:09:51 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session EB63D6F0D40C4C29CAE751BD42FF7E11, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@5e9c203d]
2025-08-17 23:09:51 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - User: 21072006095
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 21072006095
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Biometric Status: completed (embedding: true, faceCount: 5)
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 21072006095
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-17 23:09:51 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-17 23:09:51 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:09:51 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:09:51 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 23:09:51 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 23:09:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:09:51 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 21072006095
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=46, username=21072006095, vaiTro=SINHVIEN, isActive=true, hoTen=Tạ Thành Lộc, maSo (truncated)...]
2025-08-17 23:09:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:51 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-17 23:09:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41a7b6f, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-17 23:09:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session EB63D6F0D40C4C29CAE751BD42FF7E11
2025-08-17 23:09:54 [http-nio-8080-exec-10] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:09:54 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:09:54 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:09:54 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:09:54 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-17 23:09:54 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:09:54 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:54 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:54 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:54 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:09:57 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:09:57 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 8267716A8A3FC3BFFDA3B6B07DF5FAA5, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@370ddda6]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:09:57 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=59, status=success}]
2025-08-17 23:09:57 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=13220, logLevel=ERROR, module=API, action=LopHocPhanController.getById, message=API (truncated)...]
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:09:57 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 23:09:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-8] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 3520 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=17594, errorsLast24h=0, statusStats={SUCCESS=17551, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-17 23:09:57 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-17 23:09:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=17601, errorsLast24h=0, statusStats={SUCCESS=17553, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-17 23:09:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:57 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/camera
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/camera
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/camera", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#cameraManagement(Authentication, Model)
2025-08-17 23:09:59 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:09:59 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/camera.js
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/camera.js
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/camera.js", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:09:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:09:59 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc", parameters={}
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAll(int, int, String, String)
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active 
    order by
        ph1_0.ma_phong 
    limit
        ?
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(ph1_0.ma_phong) 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 2 containing com.tathanhloc.faceattendance.DTO.PhongHocDTO instances]
2025-08-17 23:10:00 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:00 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:10:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:00 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:10:00 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 23:10:00 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:00 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras/6
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras/6
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras/6", parameters={}
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getById(Long)
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0 
    where
        c1_0.id=?
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maPh (truncated)...]
2025-08-17 23:10:06 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 23:10:13 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 23:10:13 [http-nio-8080-exec-4] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-2] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:10:13 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 23:10:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 23:10:13 [http-nio-8080-exec-5] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 23:10:13 [http-nio-8080-exec-5] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-17 23:10:13 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:13 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH774445MN4
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH774445MN4
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH774445MN4", parameters={}
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActiv (truncated)...]
2025-08-17 23:10:24 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH774445MN4: LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:10:24 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH774445MN4, DTO: LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:10:24 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:10:24 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:24 [SimpleAsyncTaskExecutor-37] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{data=LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, i (truncated)...]
2025-08-17 23:10:24 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:10:24 [SimpleAsyncTaskExecutor-38] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:10:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:11:58 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:14:10 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:14:10 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:14:10 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:14:10 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:14:10 [SimpleAsyncTaskExecutor-39] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:14:10 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:14:10 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 7B911CC42A7949452CB6C6F1A7FCE0AA, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1246f044]
2025-08-17 23:14:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:14:10 [SimpleAsyncTaskExecutor-40] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:14:10 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:14:10 [SimpleAsyncTaskExecutor-41] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:14:10 [http-nio-8080-exec-6] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:14:10 [http-nio-8080-exec-6] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:14:10 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:14:10 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:14:10 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:14:10.426047100, status=404}
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:14:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:10 [SimpleAsyncTaskExecutor-42] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:14:12 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-08-17 23:14:12 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-08-17 23:14:12 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-43] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.view.RedirectView - View name [redirect:], model {}
2025-08-17 23:14:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2402b937, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:14:12 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-44] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:14:12 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:14:12 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '7B911CC42A7949452CB6C6F1A7FCE0AA' and migrating attributes.
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: D794A667F325535ABF5098F583BC4106
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 7B911CC42A7949452CB6C6F1A7FCE0AA
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-45] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session D794A667F325535ABF5098F583BC4106, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3ba8e7c3]
2025-08-17 23:14:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:14:12 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-46] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:14:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-47] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-8] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:14:12 [http-nio-8080-exec-8] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:14:12 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:14:12 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:14:12 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:14:12.671012300, status=404}
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:14:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-48] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:14:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:14:12 [SimpleAsyncTaskExecutor-49] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:15:14 [SimpleAsyncTaskExecutor-50] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:15:14 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:16:29 [http-nio-8080-exec-10] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:16:29 [http-nio-8080-exec-10] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:16:29 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:16:29 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:16:29 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:16:29.049202200, status=404}
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:16:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:16:29 [SimpleAsyncTaskExecutor-51] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:16:49 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:16:49 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:16:49 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:16:49 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:16:49 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:16:49.281310400, status=404}
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:16:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:16:49 [SimpleAsyncTaskExecutor-52] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-53] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-17 23:17:40 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-17 23:17:40 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-17 23:17:40 [http-nio-8080-exec-9] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-55] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-54] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-56] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-57] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-59] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-58] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-3] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-60] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-61] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-17 23:17:40 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-17 23:17:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-62] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-63] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-64] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-17 23:17:40 [http-nio-8080-exec-2] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-17 23:17:40 [http-nio-8080-exec-2] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:17:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:17:40 [SimpleAsyncTaskExecutor-65] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:17:47 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:17:47 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:17:47 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:17:47 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:17:47 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:17:47.310051500, status=404}
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:17:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5a2de1a8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=7B911CC42A7949452CB6C6F1A7FCE0AA], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:17:47 [SimpleAsyncTaskExecutor-66] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:18:02 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:18:02 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:18:02 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7, ContentType=null, IsAPI=false
2025-08-17 23:18:02 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 23:18:02 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:18:02 [SimpleAsyncTaskExecutor-67] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:18:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students", parameters={}
2025-08-17 23:18:50 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students
2025-08-17 23:18:50 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students.
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students.]
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:18:50 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students | Message: No endpoint GET /api/python/students.
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7, ContentType=null, IsAPI=false
2025-08-17 23:18:50 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-17 23:18:50 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-17 23:18:50 [SimpleAsyncTaskExecutor-68] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:18:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:19:31 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:19:31 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:19:31 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:19:31 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:19:31 [SimpleAsyncTaskExecutor-69] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:19:31 [http-nio-8080-exec-10] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:19:31 [http-nio-8080-exec-10] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session ED59CC9C8A0A327026AEBF24772CFC44, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@2c88bddd]
2025-08-17 23:19:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:19:31 [SimpleAsyncTaskExecutor-70] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:19:31 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:19:31 [SimpleAsyncTaskExecutor-71] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:19:31 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:19:31 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:19:31 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:19:31 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:19:31 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:19:31.751693500, status=404}
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:19:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:31 [SimpleAsyncTaskExecutor-72] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:19:33 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-08-17 23:19:33 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-08-17 23:19:33 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.view.RedirectView - View name [redirect:], model {}
2025-08-17 23:19:33 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-73] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@857b6db, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:19:33 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-74] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:19:33 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:19:33 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id 'ED59CC9C8A0A327026AEBF24772CFC44' and migrating attributes.
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 344EB84B901D554D704E118497A68AB1
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from ED59CC9C8A0A327026AEBF24772CFC44
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 344EB84B901D554D704E118497A68AB1, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@db1033c]
2025-08-17 23:19:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-75] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:19:33 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/webp, application/xml;q=0.9, */*;q=0.8]
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-76] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:19:33 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-77] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:19:33 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:19:33 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:19:33 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:19:33 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:19:33.932711, status=404}
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:19:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-78] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:19:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:19:33 [SimpleAsyncTaskExecutor-79] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:20:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:20:40 [SimpleAsyncTaskExecutor-80] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:20:40 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:20:40 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:20:40 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:20:40 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:20:40 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:20:40.042759700, status=404}
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:20:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:20:40 [SimpleAsyncTaskExecutor-81] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/students/embeddings
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/students/embeddings
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/students/embeddings", parameters={}
2025-08-17 23:20:42 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /api/python/students/embeddings
2025-08-17 23:20:42 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /api/python/students/embeddings.
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /api/python/students/embeddings.]
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:20:42 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /api/python/students/embeddings | Message: No endpoint GET /api/python/students/embeddings.
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:20:42 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:20:42 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.124 Safari/537.36, originalMessage=No endpoint GET /api/python/students/embeddings., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint không tồn tại: GET /api/python/students/embeddings, timestamp=2025-08-17T23:20:42.885753900, status=404}
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/python/students/embeddings, debug={acceptHeader=application/json, text/plain, */*, userAg (truncated)...]
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-17 23:20:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@596a0220, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=ED59CC9C8A0A327026AEBF24772CFC44], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:20:42 [SimpleAsyncTaskExecutor-82] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:22:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:22:40 [SimpleAsyncTaskExecutor-83] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:27:40 [SimpleAsyncTaskExecutor-84] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:27:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:30:09 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:30:09 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:30:09 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:30:09 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:30:09 [SimpleAsyncTaskExecutor-85] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:30:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:30:09 [http-nio-8080-exec-10] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:30:09 [http-nio-8080-exec-10] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 1734258586B9DF5823C97F6F9F55B4C4, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@1d424eb3]
2025-08-17 23:30:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:30:09 [SimpleAsyncTaskExecutor-86] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:30:09 [http-nio-8080-exec-8] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:30:09 [SimpleAsyncTaskExecutor-87] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:30:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:30:11 [http-nio-8080-exec-5] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:30:11 [SimpleAsyncTaskExecutor-88] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:30:13 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-08-17 23:30:13 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-08-17 23:30:13 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.view.RedirectView - View name [redirect:], model {}
2025-08-17 23:30:13 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-89] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@229a3fdb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:30:13 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-90] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:30:13 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:30:13 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '1734258586B9DF5823C97F6F9F55B4C4' and migrating attributes.
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 3F055286F0580DC627EB51D7649EF140
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 1734258586B9DF5823C97F6F9F55B4C4
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 3F055286F0580DC627EB51D7649EF140, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@63dfff7c]
2025-08-17 23:30:13 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-91] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:30:13 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-92] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:30:13 [http-nio-8080-exec-1] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-93] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:13 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:30:13 [http-nio-8080-exec-7] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json, text/plain, */*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-94] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:30:13 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras/active
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras/active
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras/active", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getById(Long)
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public com.tathanhloc.faceattendance.DTO.CameraDTO com.tathanhloc.faceattendance.Controller.CameraController.getById(java.lang.Long): Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "active"
2025-08-17 23:30:13 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "active"]
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:30:13 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 400 | Path: /api/cameras/active | Message: 
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, text/plain, */*, ContentType=application/json, IsAPI=true
2025-08-17 23:30:13 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:30:13 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/cameras/active, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36, originalMessage=, contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Bad Request, message=Yêu cầu không hợp lệ, timestamp=2025-08-17T23:30:13.532540400, status=400}
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/cameras/active, debug={acceptHeader=application/json, text/plain, */*, userAgent=Mozilla/ (truncated)...]
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-08-17 23:30:13 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@4b3ed670, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=1734258586B9DF5823C97F6F9F55B4C4], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:30:13 [SimpleAsyncTaskExecutor-95] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:32:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:40 [SimpleAsyncTaskExecutor-96] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:32:46 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:32:46 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-17 23:32:46 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-17 23:32:46 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:32:46 [SimpleAsyncTaskExecutor-97] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:32:46 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:32:46 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 3305E61F04B875FCBAE148FA4DD17CA0, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@428bd72d]
2025-08-17 23:32:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:32:46 [SimpleAsyncTaskExecutor-98] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:32:46 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:32:46 [SimpleAsyncTaskExecutor-99] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:32:47 [http-nio-8080-exec-2] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:47 [SimpleAsyncTaskExecutor-100] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /login
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /login
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/login", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-17 23:32:49 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: true
2025-08-17 23:32:49 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: true
2025-08-17 23:32:49 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - User already authenticated with role: ADMIN, redirecting to: /admin/dashboard
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.view.RedirectView - View name [redirect:], model {}
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 302 FOUND
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-101] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@26850bc7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:32:49 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-102] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-17 23:32:49 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-17 23:32:49 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '3305E61F04B875FCBAE148FA4DD17CA0' and migrating attributes.
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 6583576043D7AE6CBD52C7B3F70766A7
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 3305E61F04B875FCBAE148FA4DD17CA0
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 6583576043D7AE6CBD52C7B3F70766A7, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@3b3ecbf]
2025-08-17 23:32:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-103] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 6
2025-08-17 23:32:49 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [application/json, text/html, */*]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-104] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-105] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras/active
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras/active
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras/active", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getById(Long)
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.web.method.HandlerMethod - Could not resolve parameter [0] in public com.tathanhloc.faceattendance.DTO.CameraDTO com.tathanhloc.faceattendance.Controller.CameraController.getById(java.lang.Long): Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "active"
2025-08-17 23:32:49 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Method parameter 'id': Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: "active"]
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-17 23:32:49 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 400 | Path: /api/cameras/active | Message: 
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=application/json, ContentType=application/json, IsAPI=true
2025-08-17 23:32:49 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 📱 Handling as API request
2025-08-17 23:32:49 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 📤 API Error Response: {path=/api/cameras/active, debug={acceptHeader=application/json, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36, originalMessage=, contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Bad Request, message=Yêu cầu không hợp lệ, timestamp=2025-08-17T23:32:49.817480600, status=400}
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/api/cameras/active, debug={acceptHeader=application/json, userAgent=Mozilla/5.0 (Windows NT 1 (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 400
2025-08-17 23:32:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-106] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/flask/cameras/active
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/flask/cameras/active
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/flask/cameras/active", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.FlaskIntegrationController#getActiveCamerasForFlask()
2025-08-17 23:32:49 [http-nio-8080-exec-8] INFO  c.t.f.C.FlaskIntegrationController - Flask requesting active cameras
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:32:49 [http-nio-8080-exec-8] INFO  c.t.f.C.FlaskIntegrationController - Returning 1 active cameras to Flask
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-107] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[CameraFlaskDTO(id=6, tenCamera=A501, rtspUrl=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main,  (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:32:49 [http-nio-8080-exec-5] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-108] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/embeddings", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllEmbeddings()
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-109] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras/count
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras/count
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras/count", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getCameraCount()
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{total=1, inactive=0, active=1, status=success}]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-110] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-17 23:32:49 [http-nio-8080-exec-4] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-111] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@12554b8, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3305E61F04B875FCBAE148FA4DD17CA0], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-17 23:32:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:32:49 [SimpleAsyncTaskExecutor-112] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:37:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:37:40 [SimpleAsyncTaskExecutor-113] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:41:58 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:42:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:42:40 [SimpleAsyncTaskExecutor-114] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:47:40 [SimpleAsyncTaskExecutor-115] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:47:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:53:32 [SimpleAsyncTaskExecutor-116] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-17 23:53:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@5280c810, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-17 23:58:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-17 23:58:32 [SimpleAsyncTaskExecutor-117] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)

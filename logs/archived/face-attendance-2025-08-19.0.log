2025-08-19 00:04:24 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /actuator/health
2025-08-19 00:04:24 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 00:04:24 [http-nio-8080-exec-2] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-19 00:04:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 00:04:24 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 00:04:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/python/embeddings
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/python/embeddings
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/python/embeddings", parameters={}
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#getAllEmbeddings()
2025-08-19 00:04:25 [http-nio-8080-exec-5] INFO  c.t.f.Controller.PythonApiController - Getting all embeddings for Python API
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 00:04:25 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[{studentId=21072004080, name=Lưu Thành Lượng, embedding=[-0.39097830653190613, 3.0962753295898438,  (truncated)...]
2025-08-19 00:04:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 00:18:55 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-08-19 00:48:55 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-08-19 01:18:55 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 5, active threads = 1, queued tasks = 0, completed tasks = 4]
2025-08-19 01:48:55 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 0, completed tasks = 5]
2025-08-19 02:18:55 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 0, completed tasks = 6]
2025-08-19 08:20:57 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=5h47m10s647ms775µs800ns).
2025-08-19 09:19:20 [HikariPool-1 housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=56m51s958ms259µs600ns).
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/", parameters={}
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 09:23:00 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 09:23:00 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 09:23:00 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 09:23:00 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:23:00 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:00 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:00 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /favicon.ico
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /favicon.ico
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/favicon.ico", parameters={}
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/]]
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource /favicon.ico.]
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 09:23:00 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /favicon.ico | Message: No static resource /favicon.ico.
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 09:23:00 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 09:23:00 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 09:23:00 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 09:23:00 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 09:23:03 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 09:23:03 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 2E25E25774BABCF208CAA0350C1B0B7E, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@43eb3fe0]
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 60, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 09:23:03 [http-nio-8080-exec-7] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=60, status=success}]
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.137.195:554/ch1/main, maP (truncated)...]
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=13220, logLevel=ERROR, module=API, action=LopHocPhanController.getById, message=API (truncated)...]
2025-08-19 09:23:03 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:23:03 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 09:23:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:03 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 09:23:03 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 09:23:03 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 09:23:04 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:04 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 09:23:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 09:23:04 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:04 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 09:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:04 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=18379, errorsLast24h=0, statusStats={SUCCESS=18336, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-19 09:23:04 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:04 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 09:23:04 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 09:23:04 [http-nio-8080-exec-7] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-08-19 09:23:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 3677 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=18386, errorsLast24h=0, statusStats={SUCCESS=18338, FAILED=34, WARNING=14}, logLevelCount (truncated)...]
2025-08-19 09:23:04 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:04 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-6] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 09:23:12 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025-2026, ngayBatDau=2025-08-11, ngayK (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025-2026, ngayBatDau=2025-08-10, ngayKetThuc=2026- (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-9] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 09:23:12 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 09:23:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 09:23:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 09:23:12 [http-nio-8080-exec-7] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 09:23:12 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH774445MN4, thu=2, tietBatDau=1, soTiet=4, maLhp=G09412_01, maPhong=A509, isActi (truncated)...]
2025-08-19 09:23:12 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc", parameters={}
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#create(LichHocDTO)
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActiv (truncated)...]
2025-08-19 09:23:41 [http-nio-8080-exec-3] INFO  c.t.f.Service.LichHocService - Creating new schedule: LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 09:23:41 [http-nio-8080-exec-3] INFO  c.t.f.Service.LichHocService - Schedule created successfully: LH199977YWD
2025-08-19 09:23:41 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        lichhoc
        (created_at, is_active, ma_lhp, ma_phong, so_tiet, thu, tiet_bat_dau, updated_at, ma_lich) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:41 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Tạo lịch học thành công!, data=LichHocDTO(maLich=LH199977YWD, thu=3, tietBatD (truncated)...]
2025-08-19 09:23:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:23:41 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:23:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:28:12 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:28:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:31:59 [MessageBroker-5] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 0, completed tasks = 7]
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:33:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:33:12 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:38:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:38:12 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:43:12 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:43:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:48:12 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:48:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@24a2d4d5, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH199977YWD, thu=3, tietBatDau=4, soTiet=2, maLhp=G09412_01, maPhong=A507, isActi (truncated)...]
2025-08-19 09:53:12 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:53:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-19 09:56:51 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e92c2b9]]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e92c2b9]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@4e92c2b9]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 09:56:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 09:56:55 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-19 09:56:55 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 34040 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 09:56:55 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 09:56:55 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 09:56:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-19 09:56:55 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-19 09:56:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 09:56:56 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 104 ms. Found 21 JPA repository interfaces.
2025-08-19 09:56:57 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 09:56:57 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 09:56:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 09:56:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 09:56:57 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 09:56:57 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 09:56:57 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 09:56:57 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2485 ms
2025-08-19 09:56:58 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [2E25E25774BABCF208CAA0350C1B0B7E]
2025-08-19 09:56:58 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 09:56:58 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 09:56:58 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 09:56:58 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-19 09:56:58 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 09:56:58 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 09:56:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 09:56:58 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46550615
2025-08-19 09:56:58 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 09:56:58 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 09:56:58 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 09:56:58 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 09:57:00 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    create table face_image (
        id bigint not null auto_increment,
        created_at datetime(6),
        file_path varchar(255) not null,
        filename varchar(255) not null,
        is_active bit,
        slot_index integer not null,
        ma_sv varchar(255) not null,
        primary key (id)
    ) engine=InnoDB
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table hoc_ky 
       modify column mo_ta varchar(255)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table nam_hoc 
       modify column mo_ta varchar(255)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table nam_hoc 
       modify column ten_nam_hoc varchar(255) not null
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table phonghoc 
       modify column loai_phong varchar(255)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table phonghoc 
       modify column toa_nha varchar(255)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table phonghoc 
       modify column trang_thai varchar(255)
2025-08-19 09:57:00 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 09:57:01 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 09:57:01 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 09:57:01 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 09:57:01 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ho_ten varchar(100) not null
2025-08-19 09:57:01 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table taikhoan 
       modify column username varchar(50) not null
2025-08-19 09:57:01 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table face_image 
       add constraint FK7bwwukjbdethdxepfpalencrc 
       foreign key (ma_sv) 
       references sinhvien (ma_sv)
2025-08-19 09:57:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 09:57:01 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-19 09:57:06 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-19 09:57:06 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-19 09:57:07 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-19 09:57:07 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-19 09:57:07 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-19 09:57:07 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-19 09:57:07 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-19 09:57:07 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-19 09:57:07 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-19 09:57:07 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-19 09:57:07 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-19 09:57:07 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-19 09:57:07 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-19 09:57:08 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-19 09:57:08 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-19 09:57:09 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 09:57:09 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]
2025-08-19 09:57:09 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]]
2025-08-19 09:57:09 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 09:57:09 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 09:57:09 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 09:57:09 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-19 09:57:09 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 14.74 seconds (process running for 16.088)
2025-08-19 09:57:09 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@13e6f46e
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@76ebef13
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-19 09:57:09 [RMI TCP Connection(2)-172.20.10.2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-08-19 09:57:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 09:57:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:57:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/lichhoc?continue to session
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 09:57:20 [http-nio-8080-exec-4] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:57:20 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 09:57:22 [http-nio-8080-exec-9] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 09:57:22 [http-nio-8080-exec-9] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '2E25E25774BABCF208CAA0350C1B0B7E' and migrating attributes.
2025-08-19 09:57:22 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: B9471D41353936C3A6BEAF7703A829FC
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 2E25E25774BABCF208CAA0350C1B0B7E
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session B9471D41353936C3A6BEAF7703A829FC, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@44c7f3b7]
2025-08-19 09:57:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 59, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 09:57:22 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 09:57:22 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:57:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=59, status=success}]
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=116, logLevel=ERROR, module=API, action=GiangVienController.getById, message=API ca (truncated)...]
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 09:57:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9566, errorsLast24h=0, statusStats={SUCCESS=9537, FAILED=31, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 09:57:23 [http-nio-8080-exec-10] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1914 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 09:57:23 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9572, errorsLast24h=0, statusStats={SUCCESS=9539, FAILED=31, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:23 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 09:57:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-19 09:57:25 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 09:57:25 [http-nio-8080-exec-6] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 09:57:25 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 09:57:25 [http-nio-8080-exec-10] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 09:57:25 [http-nio-8080-exec-1] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 09:57:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 09:57:25 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 09:57:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:25 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 09:57:29 [http-nio-8080-exec-1] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 09:57:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=7, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-7] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 09:57:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 09:57:29 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 09:57:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 09:57:29 [http-nio-8080-exec-4] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 09:57:29 [http-nio-8080-exec-4] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=7, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 09:57:29 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:29 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, (truncated)...]
2025-08-19 09:57:36 [http-nio-8080-exec-6] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[], hasConflict=false, conflictCount=0}]
2025-08-19 09:57:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:36 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, (truncated)...]
2025-08-19 09:57:38 [http-nio-8080-exec-3] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[], hasConflict=false, conflictCount=0}]
2025-08-19 09:57:38 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:38 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH1752009056467XZS", parameters={}
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507,  (truncated)...]
2025-08-19 09:57:41 [http-nio-8080-exec-2] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH1752009056467XZS: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:41 [http-nio-8080-exec-2] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH1752009056467XZS, DTO: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:41 [http-nio-8080-exec-2] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-19 09:57:41 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-19 09:57:41 [SimpleAsyncTaskExecutor-37] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH1752009056467XZS, thu (truncated)...]
2025-08-19 09:57:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=3, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 09:57:41 [SimpleAsyncTaskExecutor-38] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, (truncated)...]
2025-08-19 09:57:48 [http-nio-8080-exec-5] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[Phòng A507 đã có lịch học trong thời gian này, Giảng viên đã có lịch dạy trong thờ (truncated)...]
2025-08-19 09:57:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:48 [SimpleAsyncTaskExecutor-39] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH1752009056467XZS", parameters={}
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507,  (truncated)...]
2025-08-19 09:57:50 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH1752009056467XZS: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 09:57:50 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH1752009056467XZS, DTO: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:50 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-19 09:57:50 [SimpleAsyncTaskExecutor-40] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH1752009056467XZS, thu (truncated)...]
2025-08-19 09:57:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:50 [SimpleAsyncTaskExecutor-41] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 09:57:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 09:57:50 [SimpleAsyncTaskExecutor-42] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 09:58:09 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:02:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:02:29 [SimpleAsyncTaskExecutor-43] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:07:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:07:29 [SimpleAsyncTaskExecutor-44] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:12:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:12:29 [SimpleAsyncTaskExecutor-45] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:17:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:17:29 [SimpleAsyncTaskExecutor-46] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:22:29 [SimpleAsyncTaskExecutor-47] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:22:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:27:29 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:27:29 [SimpleAsyncTaskExecutor-48] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:28:09 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:33:25 [SimpleAsyncTaskExecutor-49] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:33:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:37:29 [SimpleAsyncTaskExecutor-50] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:43:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:43:25 [SimpleAsyncTaskExecutor-51] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:48:25 [SimpleAsyncTaskExecutor-52] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:48:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:53:25 [SimpleAsyncTaskExecutor-53] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:53:25 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 10:57:29 [SimpleAsyncTaskExecutor-54] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 10:57:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 10:58:09 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 3, active threads = 1, queued tasks = 0, completed tasks = 2]
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:03:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:03:25 [SimpleAsyncTaskExecutor-55] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:08:25 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:08:25 [SimpleAsyncTaskExecutor-56] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:13:25 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:13:25 [SimpleAsyncTaskExecutor-57] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-58] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 11:16:21 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 11:16:21 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 11:16:21 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 11:16:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 11:16:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-59] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-60] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-62] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 11:16:21 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 11:16:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-63] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-61] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-64] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-65] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 11:16:21 [SimpleAsyncTaskExecutor-66] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 11:16:22 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 11:16:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:22 [SimpleAsyncTaskExecutor-67] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 11:16:22 [SimpleAsyncTaskExecutor-68] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:22 [SimpleAsyncTaskExecutor-69] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 11:16:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 11:16:22 [SimpleAsyncTaskExecutor-70] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 11:16:22 [http-nio-8080-exec-9] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 11:16:22 [http-nio-8080-exec-9] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=5, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:16:22 [SimpleAsyncTaskExecutor-71] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, (truncated)...]
2025-08-19 11:16:30 [http-nio-8080-exec-2] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[Phòng A507 đã có lịch học trong thời gian này, Giảng viên đã có lịch dạy trong thờ (truncated)...]
2025-08-19 11:16:30 [SimpleAsyncTaskExecutor-72] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH1752009056467XZS", parameters={}
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507,  (truncated)...]
2025-08-19 11:16:31 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH1752009056467XZS: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 11:16:31 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH1752009056467XZS, DTO: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:31 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-19 11:16:31 [SimpleAsyncTaskExecutor-73] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH1752009056467XZS, thu (truncated)...]
2025-08-19 11:16:31 [SimpleAsyncTaskExecutor-74] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:16:31 [SimpleAsyncTaskExecutor-75] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:16:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:21:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:21:22 [SimpleAsyncTaskExecutor-76] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:26:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:26:22 [SimpleAsyncTaskExecutor-77] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:28:09 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 4, active threads = 1, queued tasks = 0, completed tasks = 3]
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:31:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:31:22 [SimpleAsyncTaskExecutor-78] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:36:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:36:22 [SimpleAsyncTaskExecutor-79] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:41:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:41:22 [SimpleAsyncTaskExecutor-80] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:46:22 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:46:22 [SimpleAsyncTaskExecutor-81] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:51:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:51:25 [SimpleAsyncTaskExecutor-82] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 11:56:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 11:56:25 [SimpleAsyncTaskExecutor-83] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 11:58:09 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 5, active threads = 1, queued tasks = 0, completed tasks = 4]
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:01:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:01:25 [SimpleAsyncTaskExecutor-84] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:06:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:06:25 [SimpleAsyncTaskExecutor-85] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:11:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:11:25 [SimpleAsyncTaskExecutor-86] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:16:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:16:25 [SimpleAsyncTaskExecutor-87] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:21:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:21:25 [SimpleAsyncTaskExecutor-88] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:26:25 [SimpleAsyncTaskExecutor-89] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:26:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:28:09 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 6, active threads = 1, queued tasks = 0, completed tasks = 5]
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:31:25 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:31:25 [SimpleAsyncTaskExecutor-90] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:36:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:36:25 [SimpleAsyncTaskExecutor-91] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:41:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:41:25 [SimpleAsyncTaskExecutor-92] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:46:25 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:46:25 [SimpleAsyncTaskExecutor-93] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:51:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:51:25 [SimpleAsyncTaskExecutor-94] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 12:56:24 [SimpleAsyncTaskExecutor-95] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 12:56:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 12:58:08 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 7, active threads = 1, queued tasks = 0, completed tasks = 6]
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:01:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:01:24 [SimpleAsyncTaskExecutor-96] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:06:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:06:24 [SimpleAsyncTaskExecutor-97] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:11:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:11:24 [SimpleAsyncTaskExecutor-98] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:16:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:16:24 [SimpleAsyncTaskExecutor-99] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:21:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:21:24 [SimpleAsyncTaskExecutor-100] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:26:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:26:24 [SimpleAsyncTaskExecutor-101] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:28:08 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 8, active threads = 1, queued tasks = 0, completed tasks = 7]
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:31:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:31:24 [SimpleAsyncTaskExecutor-102] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:36:24 [SimpleAsyncTaskExecutor-103] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:36:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:41:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:41:24 [SimpleAsyncTaskExecutor-104] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:46:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:46:24 [SimpleAsyncTaskExecutor-105] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:51:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:51:24 [SimpleAsyncTaskExecutor-106] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 13:56:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 13:56:24 [SimpleAsyncTaskExecutor-107] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 13:58:08 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 9, active threads = 1, queued tasks = 0, completed tasks = 8]
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:01:24 [SimpleAsyncTaskExecutor-108] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:01:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:06:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:06:24 [SimpleAsyncTaskExecutor-109] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:11:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:11:24 [SimpleAsyncTaskExecutor-110] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:16:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:16:24 [SimpleAsyncTaskExecutor-111] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:21:24 [SimpleAsyncTaskExecutor-112] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:21:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:26:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:26:24 [SimpleAsyncTaskExecutor-113] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:28:08 [MessageBroker-2] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 10, active threads = 1, queued tasks = 0, completed tasks = 9]
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:31:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:31:24 [SimpleAsyncTaskExecutor-114] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:36:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:36:24 [SimpleAsyncTaskExecutor-115] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:41:24 [SimpleAsyncTaskExecutor-116] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:41:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:46:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:46:24 [SimpleAsyncTaskExecutor-117] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:51:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:51:24 [SimpleAsyncTaskExecutor-118] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 14:56:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 14:56:24 [SimpleAsyncTaskExecutor-119] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 14:58:08 [MessageBroker-6] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 11, active threads = 1, queued tasks = 0, completed tasks = 10]
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:01:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:01:24 [SimpleAsyncTaskExecutor-120] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:06:24 [SimpleAsyncTaskExecutor-121] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:06:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:11:24 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:11:24 [SimpleAsyncTaskExecutor-122] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:16:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:16:24 [SimpleAsyncTaskExecutor-123] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:21:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:21:24 [SimpleAsyncTaskExecutor-124] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:26:24 [SimpleAsyncTaskExecutor-125] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:26:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:28:08 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 12, active threads = 1, queued tasks = 0, completed tasks = 11]
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:31:24 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:31:24 [SimpleAsyncTaskExecutor-126] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:36:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:36:21 [SimpleAsyncTaskExecutor-127] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:41:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:41:24 [SimpleAsyncTaskExecutor-128] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:46:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:46:24 [SimpleAsyncTaskExecutor-129] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=6, soTiet=5, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:51:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:51:24 [SimpleAsyncTaskExecutor-130] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null (truncated)...]
2025-08-19 15:55:16 [http-nio-8080-exec-6] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=5, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[], hasConflict=false, conflictCount=0}]
2025-08-19 15:55:16 [SimpleAsyncTaskExecutor-131] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507, isActive=null (truncated)...]
2025-08-19 15:55:17 [http-nio-8080-exec-5] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[], hasConflict=false, conflictCount=0}]
2025-08-19 15:55:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:55:17 [SimpleAsyncTaskExecutor-132] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH1752009056467XZS", parameters={}
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 15:55:18 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH1752009056467XZS: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:55:18 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH1752009056467XZS, DTO: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:18 [http-nio-8080-exec-8] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-19 15:55:18 [SimpleAsyncTaskExecutor-133] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH1752009056467XZS, thu (truncated)...]
2025-08-19 15:55:18 [SimpleAsyncTaskExecutor-134] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 15:55:18 [SimpleAsyncTaskExecutor-135] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:55:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 15:56:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:21 [SimpleAsyncTaskExecutor-136] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-19 15:56:49 [SimpleAsyncTaskExecutor-137] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 15:56:49 [http-nio-8080-exec-3] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 15:56:49 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 15:56:49 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 15:56:49 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 15:56:49 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 15:56:49 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 15:56:49 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-19 15:56:49 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 15:56:49 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:56:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:56:49 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 15:56:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:56:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 15:56:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 15:56:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 15:56:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-138] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-139] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-140] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-141] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 15:56:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-142] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-143] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:56:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:56:50 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:56:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:56:50 [SimpleAsyncTaskExecutor-144] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:56:51 [SimpleAsyncTaskExecutor-145] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:56:51 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:08 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 13, active threads = 1, queued tasks = 0, completed tasks = 12]
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-146] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 15:58:42 [http-nio-8080-exec-5] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-147] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-149] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-148] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-150] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-151] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 15:58:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-152] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-9] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-153] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 15:58:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-154] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:58:42 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:58:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-155] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-156] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 15:58:42 [SimpleAsyncTaskExecutor-157] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 15:58:43 [SimpleAsyncTaskExecutor-158] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 15:58:43 [http-nio-8080-exec-3] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 15:58:43 [http-nio-8080-exec-3] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 15:58:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:43 [SimpleAsyncTaskExecutor-159] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/sinhvien", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#sinhvienManagement(Authentication, Model)
2025-08-19 15:58:45 [SimpleAsyncTaskExecutor-160] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:58:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lop", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopController#getAllActive()
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:45 [SimpleAsyncTaskExecutor-161] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopDTO(maLop=21DTHC1, tenLop=Đại Trà Hệ Chính Quy 1, maNganh=CNTT, maKhoahoc=K21, maKhoa=null, isAc (truncated)...]
2025-08-19 15:58:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=0&size=10", parameters={masked}
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:45 [SimpleAsyncTaskExecutor-162] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:58:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/statistics", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStatistics()
2025-08-19 15:58:45 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{studentsWithPhoto=2, studentsWithEmbedding=55, totalStudents=59, activeStudents=55}]
2025-08-19 15:58:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [SimpleAsyncTaskExecutor-163] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:58:45 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:58:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:45 [SimpleAsyncTaskExecutor-164] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=4&size=10
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=4&size=10
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=4&size=10", parameters={masked}
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 5 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:58:47 [SimpleAsyncTaskExecutor-165] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile.jpg
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile.jpg
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile.jpg", parameters={}
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:58:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=5&size=10
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=5&size=10
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=5&size=10", parameters={masked}
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 6 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:58:49 [SimpleAsyncTaskExecutor-166] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:58:49 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/sinhvien
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/sinhvien
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/sinhvien", parameters={}
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#create(SinhVienDTO)
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [SinhVienDTO(maSv=23092005054, hoTen=Võ Văn Đạt, gioiTinh=NAM, ngaySinh=null, email=null, hinhAnh=nul (truncated)...]
2025-08-19 15:59:16 [http-nio-8080-exec-5] INFO  c.t.f.Controller.SinhVienController - Tạo sinh viên mới: SinhVienDTO(maSv=23092005054, hoTen=Võ Văn Đạt, gioiTinh=NAM, ngaySinh=null, email=null, hinhAnh=null, embedding=null, isActive=true, maLop=B021TT2)
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        sinhvien
        (email, embedding, gioi_tinh, hinh_anh, ho_ten, is_active, ma_lop, ngay_sinh, ma_sv) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:16 [SimpleAsyncTaskExecutor-168] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:16 [SimpleAsyncTaskExecutor-167] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SinhVienDTO(maSv=23092005054, hoTen=Võ Văn Đạt, gioiTinh=NAM, ngaySinh=null, email=null, hinhAnh=nul (truncated)...]
2025-08-19 15:59:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=5&size=10
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=5&size=10
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/statistics", parameters={}
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=5&size=10", parameters={masked}
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStatistics()
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:59:16 [http-nio-8080-exec-6] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 6 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:59:16 [SimpleAsyncTaskExecutor-169] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{studentsWithPhoto=2, studentsWithEmbedding=55, totalStudents=60, activeStudents=56}]
2025-08-19 15:59:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:16 [SimpleAsyncTaskExecutor-170] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/sinhvien", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#sinhvienManagement(Authentication, Model)
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:22 [SimpleAsyncTaskExecutor-171] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:22 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:22 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lop", parameters={}
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopController#getAllActive()
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopDTO(maLop=21DTHC1, tenLop=Đại Trà Hệ Chính Quy 1, maNganh=CNTT, maKhoahoc=K21, maKhoa=null, isAc (truncated)...]
2025-08-19 15:59:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:23 [SimpleAsyncTaskExecutor-172] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=0&size=10", parameters={masked}
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:59:23 [SimpleAsyncTaskExecutor-173] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/statistics", parameters={}
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStatistics()
2025-08-19 15:59:23 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{studentsWithPhoto=2, studentsWithEmbedding=55, totalStudents=60, activeStudents=56}]
2025-08-19 15:59:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:23 [SimpleAsyncTaskExecutor-174] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:59:23 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:59:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:23 [SimpleAsyncTaskExecutor-175] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=4&size=10
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=4&size=10
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=4&size=10", parameters={masked}
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 5 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:59:25 [SimpleAsyncTaskExecutor-176] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile.jpg
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile.jpg
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile.jpg", parameters={}
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:25 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=5&size=10
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=5&size=10
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=5&size=10", parameters={masked}
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 6 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:59:26 [SimpleAsyncTaskExecutor-177] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:26 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-19 15:59:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@2cf273a3, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=2E25E25774BABCF208CAA0350C1B0B7E], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session B9471D41353936C3A6BEAF7703A829FC
2025-08-19 15:59:33 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 15:59:33 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 15:59:33 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 15:59:33 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 15:59:33 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-19 15:59:33 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:33 [SimpleAsyncTaskExecutor-178] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:33 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 15:59:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:33 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 15:59:46 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 23092006054
2025-08-19 15:59:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 15:59:46 [http-nio-8080-exec-6] ERROR c.t.f.S.CustomUserDetailsService - User not found with username: 23092006054
2025-08-19 15:59:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user '23092006054'
2025-08-19 15:59:46 [http-nio-8080-exec-6] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 23092006054
2025-08-19 15:59:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 15:59:46 [http-nio-8080-exec-6] ERROR c.t.f.S.CustomUserDetailsService - User not found with username: 23092006054
2025-08-19 15:59:46 [http-nio-8080-exec-6] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user '23092006054'
2025-08-19 15:59:46 [SimpleAsyncTaskExecutor-180] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:46 [SimpleAsyncTaskExecutor-179] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=login_failed
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=login_failed
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=login_failed", parameters={masked}
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 15:59:46 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 15:59:46 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 15:59:46 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 15:59:46 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: login_failed
2025-08-19 15:59:46 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:46 [SimpleAsyncTaskExecutor-181] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 15:59:46 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:46 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:49 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 15:59:49 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 15:59:49 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 15:59:49 [http-nio-8080-exec-4] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 647287825F7D57A34D0EDE3AD066535A, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@40d8927a]
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-182] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 60, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 15:59:50 [http-nio-8080-exec-3] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-183] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=60, status=success}]
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 15:59:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-185] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-184] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-19 15:59:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-186] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=116, logLevel=ERROR, module=API, action=GiangVienController.getById, message=API ca (truncated)...]
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-187] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9746, errorsLast24h=0, statusStats={SUCCESS=9715, FAILED=33, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 15:59:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-188] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1950 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-189] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9751, errorsLast24h=0, statusStats={SUCCESS=9717, FAILED=33, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 15:59:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-190] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:59:50 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:59:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:50 [SimpleAsyncTaskExecutor-191] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/sinhvien", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#sinhvienManagement(Authentication, Model)
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-192] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lop", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopController#getAllActive()
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopDTO(maLop=21DTHC1, tenLop=Đại Trà Hệ Chính Quy 1, maNganh=CNTT, maKhoahoc=K21, maKhoa=null, isAc (truncated)...]
2025-08-19 15:59:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-193] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=0&size=10", parameters={masked}
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-194] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/statistics", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStatistics()
2025-08-19 15:59:52 [http-nio-8080-exec-5] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{studentsWithPhoto=2, studentsWithEmbedding=55, totalStudents=60, activeStudents=56}]
2025-08-19 15:59:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-195] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:59:52 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:59:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-196] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/taikhoan
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/taikhoan
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/taikhoan", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#taikhoanManagement(Authentication, Model)
2025-08-19 15:59:52 [http-nio-8080-exec-9] INFO  c.t.f.C.AdminDashboardController - Admin taikhoan management access: admin
2025-08-19 15:59:52 [SimpleAsyncTaskExecutor-197] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 15:59:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 15:59:53 [http-nio-8080-exec-3] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-198] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-199] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 15:59:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-200] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 15:59:53 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-201] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-202] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 15:59:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 15:59:53 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-204] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [SimpleAsyncTaskExecutor-203] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:53 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/taikhoan", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#create(TaiKhoanDTO)
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [TaiKhoanDTO(id=null, username=23092005054, passwordHash=23092005054, vaiTro=SINHVIEN, isActive=true, (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=? 
    limit
        ?
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=? 
    limit
        ?
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        taikhoan
        (created_at, ma_gv, is_active, password_hash, ma_sv, username, vai_tro) 
    values
        (?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-206] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-205] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [TaiKhoanDTO(id=63, username=23092005054, passwordHash=$2a$10$j5HIb/x0ig2nnDft2PxyP..TdMGk7JDnMEitNRS (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 15:59:57 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-207] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-208] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-209] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 15:59:57 [http-nio-8080-exec-3] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-210] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-211] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 15:59:57 [SimpleAsyncTaskExecutor-212] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:57 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:59 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-19 15:59:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@699cc08d, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 15:59:59 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 647287825F7D57A34D0EDE3AD066535A
2025-08-19 15:59:59 [http-nio-8080-exec-4] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 15:59:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 15:59:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 15:59:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 15:59:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-19 15:59:59 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 15:59:59 [SimpleAsyncTaskExecutor-213] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 15:59:59 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:59 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 15:59:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:03 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 16:00:03 [http-nio-8080-exec-8] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 23092006054
2025-08-19 16:00:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:00:03 [http-nio-8080-exec-8] ERROR c.t.f.S.CustomUserDetailsService - User not found with username: 23092006054
2025-08-19 16:00:03 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user '23092006054'
2025-08-19 16:00:03 [http-nio-8080-exec-8] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 23092006054
2025-08-19 16:00:03 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:00:03 [http-nio-8080-exec-8] ERROR c.t.f.S.CustomUserDetailsService - User not found with username: 23092006054
2025-08-19 16:00:03 [http-nio-8080-exec-8] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Failed to find user '23092006054'
2025-08-19 16:00:03 [SimpleAsyncTaskExecutor-215] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:03 [SimpleAsyncTaskExecutor-214] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=login_failed
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=login_failed
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=login_failed", parameters={masked}
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:00:03 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:00:03 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:00:03 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:00:03 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: login_failed
2025-08-19 16:00:03 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:03 [SimpleAsyncTaskExecutor-216] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:03 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:03 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:03 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 16:00:07 [http-nio-8080-exec-3] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:00:07 [http-nio-8080-exec-3] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 05A52B3546BE571B27FB76C20962943E, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@7eed7779]
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-217] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 60, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 16:00:07 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-218] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=60, status=success}]
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 16:00:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-219] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-220] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-221] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=116, logLevel=ERROR, module=API, action=GiangVienController.getById, message=API ca (truncated)...]
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-222] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1957 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 16:00:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-223] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9781, errorsLast24h=0, statusStats={SUCCESS=9748, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:00:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-224] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9787, errorsLast24h=0, statusStats={SUCCESS=9750, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:00:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-225] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:07 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:00:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:07 [SimpleAsyncTaskExecutor-226] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/taikhoan", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#taikhoanManagement(Authentication, Model)
2025-08-19 16:00:10 [http-nio-8080-exec-1] INFO  c.t.f.C.AdminDashboardController - Admin taikhoan management access: admin
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-227] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 16:00:10 [http-nio-8080-exec-3] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 16:00:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-228] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 16:00:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-229] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-230] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 16:00:10 [http-nio-8080-exec-1] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:00:10 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-231] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-232] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-233] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:10 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:00:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:10 [SimpleAsyncTaskExecutor-234] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:28 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-19 16:00:28 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:28 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@680dc3ac, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:00:28 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session 05A52B3546BE571B27FB76C20962943E
2025-08-19 16:00:28 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:00:28 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:00:28 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:00:28 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:00:28 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-19 16:00:28 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:28 [SimpleAsyncTaskExecutor-235] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:28 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 16:00:31 [http-nio-8080-exec-2] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: 23092005054
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:31 [http-nio-8080-exec-2] INFO  c.t.f.S.CustomUserDetailsService - User found: 23092005054 with role: SINHVIEN and active status: true
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session A0564F8C0457C1832245C8703FD9C92A, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@43a22644]
2025-08-19 16:00:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]
2025-08-19 16:00:31 [SimpleAsyncTaskExecutor-236] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - User: 23092005054
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 23092005054
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Biometric Status: empty (embedding: false, faceCount: 0)
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 23092005054
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:31 [http-nio-8080-exec-3] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-19 16:00:31 [SimpleAsyncTaskExecutor-237] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:31 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:31 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:31 [SimpleAsyncTaskExecutor-238] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:32 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:32 [SimpleAsyncTaskExecutor-239] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/lichhoc
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/lichhoc
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/lichhoc", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#lichHoc(CustomUserDetails, Model)
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:34 [http-nio-8080-exec-9] INFO  c.t.f.C.StudentDashboardController - ✅ Calendar grid prepared: 0 schedules
2025-08-19 16:00:34 [SimpleAsyncTaskExecutor-240] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [SimpleAsyncTaskExecutor-241] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:34 [SimpleAsyncTaskExecutor-242] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:00:35 [SimpleAsyncTaskExecutor-243] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:00:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:00:35 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [SimpleAsyncTaskExecutor-244] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=0, images=[], maxCount=5, slots={}}]
2025-08-19 16:00:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [SimpleAsyncTaskExecutor-245] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:00:35 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:00:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:35 [SimpleAsyncTaskExecutor-246] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /student/api/upload-face-image
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured POST /student/api/upload-face-image
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - POST "/student/api/upload-face-image", parameters={multipart}
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#uploadFaceImage(CustomUserDetails, MultipartFile, Integer)
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        case 
            when count(fi1_0.id)>0 
                then 0 
            else 1 
    end 
from
    face_image fi1_0 
where
    fi1_0.ma_sv=? 
    and fi1_0.slot_index=? 
    and fi1_0.is_active=1
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.slot_index=? 
        and fi1_0.is_active=1
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        face_image
        (created_at, file_path, filename, is_active, ma_sv, slot_index) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-19 16:00:50 [http-nio-8080-exec-1] INFO  c.t.f.Service.FileUploadService - Saved face image for student 23092005054 at slot 0: face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{filename=face_23092005054_slot0_1755594050884.jpg, currentCount=1, url=/uploads/students/2309200505 (truncated)...]
2025-08-19 16:00:50 [SimpleAsyncTaskExecutor-247] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:00:50 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:00:50 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:00:50 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:00:50 [SimpleAsyncTaskExecutor-248] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:00:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /student/api/upload-face-image
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /student/api/upload-face-image
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/student/api/upload-face-image", parameters={multipart}
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#uploadFaceImage(CustomUserDetails, MultipartFile, Integer)
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        case 
            when count(fi1_0.id)>0 
                then 0 
            else 1 
    end 
from
    face_image fi1_0 
where
    fi1_0.ma_sv=? 
    and fi1_0.slot_index=? 
    and fi1_0.is_active=1
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.slot_index=? 
        and fi1_0.is_active=1
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        face_image
        (created_at, file_path, filename, is_active, ma_sv, slot_index) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-19 16:00:53 [http-nio-8080-exec-5] INFO  c.t.f.Service.FileUploadService - Saved face image for student 23092005054 at slot 1: face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{filename=face_23092005054_slot1_1755594053649.jpg, currentCount=2, url=/uploads/students/2309200505 (truncated)...]
2025-08-19 16:00:53 [SimpleAsyncTaskExecutor-249] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:00:53 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:00:53 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:00:53 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:00:53 [SimpleAsyncTaskExecutor-250] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:00:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /student/api/upload-face-image
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured POST /student/api/upload-face-image
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - POST "/student/api/upload-face-image", parameters={multipart}
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#uploadFaceImage(CustomUserDetails, MultipartFile, Integer)
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        case 
            when count(fi1_0.id)>0 
                then 0 
            else 1 
    end 
from
    face_image fi1_0 
where
    fi1_0.ma_sv=? 
    and fi1_0.slot_index=? 
    and fi1_0.is_active=1
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.slot_index=? 
        and fi1_0.is_active=1
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        face_image
        (created_at, file_path, filename, is_active, ma_sv, slot_index) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-19 16:00:56 [http-nio-8080-exec-9] INFO  c.t.f.Service.FileUploadService - Saved face image for student 23092005054 at slot 2: face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{filename=face_23092005054_slot2_1755594056294.jpg, currentCount=3, url=/uploads/students/2309200505 (truncated)...]
2025-08-19 16:00:56 [SimpleAsyncTaskExecutor-251] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:56 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:00:56 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:00:56 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:00:56 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:00:56 [SimpleAsyncTaskExecutor-252] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:00:56 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing POST /student/api/upload-face-image
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured POST /student/api/upload-face-image
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - POST "/student/api/upload-face-image", parameters={multipart}
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#uploadFaceImage(CustomUserDetails, MultipartFile, Integer)
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        case 
            when count(fi1_0.id)>0 
                then 0 
            else 1 
    end 
from
    face_image fi1_0 
where
    fi1_0.ma_sv=? 
    and fi1_0.slot_index=? 
    and fi1_0.is_active=1
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.slot_index=? 
        and fi1_0.is_active=1
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        face_image
        (created_at, file_path, filename, is_active, ma_sv, slot_index) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-19 16:00:58 [http-nio-8080-exec-2] INFO  c.t.f.Service.FileUploadService - Saved face image for student 23092005054 at slot 3: face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{filename=face_23092005054_slot3_1755594058867.jpg, currentCount=4, url=/uploads/students/2309200505 (truncated)...]
2025-08-19 16:00:58 [SimpleAsyncTaskExecutor-253] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:58 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:00:58 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:00:58 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:00:58 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:00:58 [SimpleAsyncTaskExecutor-254] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:00:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /student/api/upload-face-image
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured POST /student/api/upload-face-image
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - POST "/student/api/upload-face-image", parameters={multipart}
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#uploadFaceImage(CustomUserDetails, MultipartFile, Integer)
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        case 
            when count(fi1_0.id)>0 
                then 0 
            else 1 
    end 
from
    face_image fi1_0 
where
    fi1_0.ma_sv=? 
    and fi1_0.slot_index=? 
    and fi1_0.is_active=1
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.slot_index=? 
        and fi1_0.is_active=1
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        face_image
        (created_at, file_path, filename, is_active, ma_sv, slot_index) 
    values
        (?, ?, ?, ?, ?, ?)
2025-08-19 16:01:01 [http-nio-8080-exec-3] INFO  c.t.f.Service.FileUploadService - Saved face image for student 23092005054 at slot 4: face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{filename=face_23092005054_slot4_1755594061440.jpg, currentCount=5, url=/uploads/students/2309200505 (truncated)...]
2025-08-19 16:01:01 [SimpleAsyncTaskExecutor-255] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:01 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:01 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:01 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:01 [SimpleAsyncTaskExecutor-256] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:01 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-257] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:06 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:06 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-258] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-259] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:06 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:06 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:06 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:06 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:06 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:06 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:06 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:06 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:06 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:06 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:06 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:06 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-260] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-262] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-261] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-264] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-263] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:06 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:06 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:06 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:06 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:06 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:06 [SimpleAsyncTaskExecutor-265] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-266] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:07 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-267] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-268] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:07 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:07 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:07 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:07 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:07 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:07 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:07 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:07 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:07 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:07 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:07 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:07 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:07 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-271] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-270] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-269] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-272] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-273] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:07 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-274] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:07 [SimpleAsyncTaskExecutor-275] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:07 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-276] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-277] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-278] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-280] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-279] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-282] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-281] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-283] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-284] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-285] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-286] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-287] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-288] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-289] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-291] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-290] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-292] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-293] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-294] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-295] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-8] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-8] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-1] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:08 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:08 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:08 [http-nio-8080-exec-1] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-296] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-299] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-297] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-298] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-300] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:08 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:08 [SimpleAsyncTaskExecutor-301] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-302] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:09 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-303] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-304] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.]
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.]
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.]
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.r.ResourceHttpRequestHandler - Resource not found
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.resource.NoResourceFoundException: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.]
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:01:09 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg.
2025-08-19 16:01:09 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg.
2025-08-19 16:01:09 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg.
2025-08-19 16:01:09 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg.
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:09 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg | Message: No static resource students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg.
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:09 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:09 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:09 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8, ContentType=null, IsAPI=false
2025-08-19 16:01:09 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:09 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:09 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:01:09 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:09 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:09 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:09 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [image/avif, image/webp, image/apng, image/svg+xml, image/*, */*;q=0.8]
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-309] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-305] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-307] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-306] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-308] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:01:09 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:09 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:09 [SimpleAsyncTaskExecutor-310] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/profile
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/profile
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/profile", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#profile(CustomUserDetails, Model)
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:28 [SimpleAsyncTaskExecutor-311] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:28 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:28 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:28 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/api/get-face-images
2025-08-19 16:01:28 [SimpleAsyncTaskExecutor-312] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/api/get-face-images
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/api/get-face-images", parameters={}
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#getFaceImages(CustomUserDetails)
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        fi1_0.id,
        fi1_0.created_at,
        fi1_0.file_path,
        fi1_0.filename,
        fi1_0.is_active,
        fi1_0.ma_sv,
        fi1_0.slot_index 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1 
    order by
        fi1_0.slot_index
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=5, images=[{createdAt=2025-08-19T16:00:50, filename=face_23092005054_slot0_1755594050884.jpg, (truncated)...]
2025-08-19 16:01:28 [SimpleAsyncTaskExecutor-313] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:28 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot0_1755594050884.jpg", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot1_1755594053649.jpg", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot2_1755594056294.jpg", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot3_1755594058867.jpg", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/23092005054/faces/face_23092005054_slot4_1755594061440.jpg", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:29 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:29 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:29 [SimpleAsyncTaskExecutor-314] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /student/dashboard
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /student/dashboard
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/student/dashboard", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.StudentDashboardController#dashboard(CustomUserDetails, Model)
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - === STUDENT DASHBOARD ACCESS ===
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - User: 23092005054
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Loading student dashboard for student: 23092005054
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dkh1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(fi1_0.id) 
    from
        face_image fi1_0 
    where
        fi1_0.ma_sv=? 
        and fi1_0.is_active=1
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Biometric Status: ready (embedding: false, faceCount: 5)
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - Lấy danh sách điểm danh theo mã sinh viên: 23092005054
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0 
    where
        sv1_0.ma_sv=?
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    where
        sv1_0.ma_sv=?
2025-08-19 16:01:31 [http-nio-8080-exec-4] INFO  c.t.f.C.StudentDashboardController - Student dashboard loaded successfully
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:31 [SimpleAsyncTaskExecutor-315] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:31 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/student.css
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/student.css
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/student.css", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:31 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [SimpleAsyncTaskExecutor-316] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:31 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: 23092005054
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=63, username=23092005054, vaiTro=SINHVIEN, isActive=true, hoTen=Võ Văn Đạt, maSo=2 (truncated)...]
2025-08-19 16:01:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:31 [SimpleAsyncTaskExecutor-317] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /logout
2025-08-19 16:01:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.logout.LogoutFilter - Logging out [UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@650dfad7, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_SINHVIEN]]]
2025-08-19 16:01:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.l.SecurityContextLogoutHandler - Invalidated session A0564F8C0457C1832245C8703FD9C92A
2025-08-19 16:01:34 [http-nio-8080-exec-5] DEBUG o.s.s.web.DefaultRedirectStrategy - Redirecting to /?message=logout_success
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:01:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:01:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:01:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:01:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-19 16:01:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:34 [SimpleAsyncTaskExecutor-318] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 16:01:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:34 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?message=logout_success
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?message=logout_success
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?message=logout_success", parameters={masked}
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:01:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:01:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:01:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:01:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Success message: logout_success
2025-08-19 16:01:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:41 [SimpleAsyncTaskExecutor-319] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 16:01:46 [http-nio-8080-exec-3] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:01:46 [http-nio-8080-exec-3] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 0E869C70954F9B131842A129CF50E341, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@78b11d0a]
2025-08-19 16:01:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:01:46 [SimpleAsyncTaskExecutor-320] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 60, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 16:01:46 [http-nio-8080-exec-2] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:46 [SimpleAsyncTaskExecutor-321] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=60, status=success}]
2025-08-19 16:01:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-323] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-324] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-322] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=116, logLevel=ERROR, module=API, action=GiangVienController.getById, message=API ca (truncated)...]
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-325] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1978 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-326] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9884, errorsLast24h=0, statusStats={SUCCESS=9851, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-327] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9890, errorsLast24h=0, statusStats={SUCCESS=9853, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-328] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:47 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:01:47 [SimpleAsyncTaskExecutor-329] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/sinhvien
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/sinhvien
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/sinhvien", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#sinhvienManagement(Authentication, Model)
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:01:50 [SimpleAsyncTaskExecutor-330] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:50 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lop
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lop
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lop", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopController#getAllActive()
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        l1_0.ma_khoahoc,
        l1_0.ma_khoa,
        l1_0.ma_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    where
        l1_0.is_active
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc 
    from
        khoahoc kh1_0 
    where
        kh1_0.ma_khoahoc=?
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh 
    from
        nganh n1_0 
    where
        n1_0.ma_nganh=?
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopDTO(maLop=21DTHC1, tenLop=Đại Trà Hệ Chính Quy 1, maNganh=CNTT, maKhoahoc=K21, maKhoa=null, isAc (truncated)...]
2025-08-19 16:01:50 [SimpleAsyncTaskExecutor-331] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=0&size=10
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=0&size=10
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=0&size=10", parameters={masked}
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 16:01:50 [SimpleAsyncTaskExecutor-332] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/statistics
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/statistics
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/statistics", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStatistics()
2025-08-19 16:01:50 [http-nio-8080-exec-7] INFO  c.t.f.Controller.SinhVienController - Getting student statistics
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{studentsWithPhoto=2, studentsWithEmbedding=55, totalStudents=60, activeStudents=56}]
2025-08-19 16:01:50 [SimpleAsyncTaskExecutor-333] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:50 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:01:50 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:01:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:50 [SimpleAsyncTaskExecutor-334] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/extract-all
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/extract-all
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/python/extract-all", parameters={}
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonFeatureExtractionController#extractFeaturesForAll()
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Request to extract features for all students
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Executing batch command: cmd /c cd /d "." && "scripts/face_recognition/.venv\Scripts\activate.bat" && python scripts/face_recognition/face_feature_extractor.py
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: Traceback (most recent call last):
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:   File "D:\LuanVan\face-attendance\scripts\face_recognition\face_feature_extractor.py", line 2, in <module>
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output:     import cv2
2025-08-19 16:01:53 [http-nio-8080-exec-5] INFO  c.t.f.C.PythonFeatureExtractionController - Python batch output: ModuleNotFoundError: No module named 'cv2'
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Python batch script failed with exit code: 1, output=Traceback (most recent call last):<EOL>  F (truncated)...]
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-08-19 16:01:53 [SimpleAsyncTaskExecutor-335] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:01:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/stop
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/stop
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/python/stop", parameters={}
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonFeatureExtractionController#stopExtraction()
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{message=Stop functionality not implemented yet, status=success}]
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:01:56 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:01:56 [SimpleAsyncTaskExecutor-336] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-08-19 16:02:34 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-337] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/23092005054
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006095
2025-08-19 16:02:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/by-masv/21072006078
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-340] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-338] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-339] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-08-19 16:02:34 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-08-19 16:02:34 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/auth/login
2025-08-19 16:02:34 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:02:34 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:02:34 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:02:34 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - View remains unresolved given [application/json]
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-341] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-343] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [SimpleAsyncTaskExecutor-342] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006095/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/21072006078/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/python/students/23092005054/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/23092005054/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006095/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/python/students/21072006078/embedding
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/python/students/21072006095/embedding", parameters={}
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/python/students/23092005054/embedding", parameters={}
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/python/students/21072006078/embedding", parameters={}
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#saveEmbedding(String, Map)
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#saveEmbedding(String, Map)
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PythonApiController#saveEmbedding(String, Map)
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{embedding=jSSZO0CkSz0WJzq9mLpnvMg9Aj0nr4u9BFKaPT5sXT3CLgi9tTJBvZOk6zzNieo6hh6LPN6p27y13Mc81krnPTVrW (truncated)...]
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{embedding=EAVNPfI8Kz0uyeS8sjSzPF0ulbyMpCg9jLmMveiUL7t6XhU8m8cKvWAPJbw/9as8zZY/vTjqVD3yeIg9SLhiPRjj3 (truncated)...]
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [{embedding=hMLJvDCy7rtYLmC7WJM/vYXxsj3UGh89wF2YPJyRhTyTfJc71BB9PedSgrwx3VG9YNrZva6z4rp+X+48qMKXvO8Nd (truncated)...]
2025-08-19 16:02:41 [http-nio-8080-exec-10] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006095
2025-08-19 16:02:41 [http-nio-8080-exec-8] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 21072006078
2025-08-19 16:02:41 [http-nio-8080-exec-6] INFO  c.t.f.Controller.PythonApiController - Saving embedding for student: 23092005054
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    update
        sinhvien 
    set
        email=?,
        embedding=?,
        gioi_tinh=?,
        hinh_anh=?,
        ho_ten=?,
        is_active=?,
        ma_lop=?,
        ngay_sinh=? 
    where
        ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SinhVienDTO(maSv=23092005054, hoTen=Võ Văn Đạt, gioiTinh=NAM, ngaySinh=null, email=null, hinhAnh=nul (truncated)...]
2025-08-19 16:02:41 [SimpleAsyncTaskExecutor-344] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        sinhvien 
    set
        email=?,
        embedding=?,
        gioi_tinh=?,
        hinh_anh=?,
        ho_ten=?,
        is_active=?,
        ma_lop=?,
        ngay_sinh=? 
    where
        ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    update
        sinhvien 
    set
        email=?,
        embedding=?,
        gioi_tinh=?,
        hinh_anh=?,
        ho_ten=?,
        is_active=?,
        ma_lop=?,
        ngay_sinh=? 
    where
        ma_sv=?
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SinhVienDTO(maSv=21072006078, hoTen=Trần Kim Đoan, gioiTinh=NU, ngaySinh=2003-01-01, email=210720060 (truncated)...]
2025-08-19 16:02:41 [SimpleAsyncTaskExecutor-345] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SinhVienDTO(maSv=21072006095, hoTen=Tạ Thành Lộc, gioiTinh=NAM, ngaySinh=2003-08-24, email=210720060 (truncated)...]
2025-08-19 16:02:41 [SimpleAsyncTaskExecutor-346] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=4&size=10
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=4&size=10
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=4&size=10", parameters={masked}
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 5 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 16:02:52 [SimpleAsyncTaskExecutor-347] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /uploads/students/21072006095/profile.jpg
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /uploads/students/21072006095/profile.jpg
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/uploads/students/21072006095/profile.jpg", parameters={}
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/uploads/]]
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:02:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien?page=5&size=10
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien?page=5&size=10
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien?page=5&size=10", parameters={masked}
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAll(int, int, String, String)
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    order by
        sv1_0.ma_sv 
    limit
        ?, ?
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sv1_0.ma_sv) 
    from
        sinhvien sv1_0
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 6 of 6 containing com.tathanhloc.faceattendance.DTO.SinhVienDTO instances]
2025-08-19 16:02:54 [SimpleAsyncTaskExecutor-348] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:02:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:28:08 [MessageBroker-7] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 14, active threads = 1, queued tasks = 0, completed tasks = 13]
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/taikhoan", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#taikhoanManagement(Authentication, Model)
2025-08-19 16:29:45 [http-nio-8080-exec-10] INFO  c.t.f.C.AdminDashboardController - Admin taikhoan management access: admin
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-349] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:29:45 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-351] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-350] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/active", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAllActive()
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0 
    where
        gv1_0.is_active
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV005, hoTen=Hoàng Văn E, email=gv005@university.edu.vn, isActive=true, maKhoa=KH (truncated)...]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-352] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-353] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/active
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/active", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllActive()
2025-08-19 16:29:45 [http-nio-8080-exec-5] INFO  c.t.f.Controller.SinhVienController - Lấy danh sách sinh viên đang hoạt động
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-354] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-355] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/taikhoan
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/taikhoan", parameters={}
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.TaiKhoanController#getAll()
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[TaiKhoanDTO(id=1, username=admin, passwordHash=$2a$12$J9YoSkZgxAxmiYncCXQ3dO9O4iode3Bl/pePJGAX7vidb (truncated)...]
2025-08-19 16:29:45 [SimpleAsyncTaskExecutor-356] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cauhinh-hocky
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cauhinh-hocky
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/cauhinh-hocky", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#cauhinhHockyManagement(Authentication, Model)
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-357] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/all
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hockynamhoc
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hockynamhoc
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/all
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hockynamhoc", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/all", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyNamHocController#getAll()
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAllIncludeInactive()
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-19 16:29:47 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-19 16:29:47 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học (bao gồm inactive)
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hknh1_0.id,
        hknh1_0.ma_hoc_ky,
        hknh1_0.is_active,
        hknh1_0.ma_nam_hoc,
        hknh1_0.thu_tu 
    from
        hoc_ky_nam_hoc hknh1_0
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-358] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-359] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-360] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[HocKyNamHocDTO(id=9, maHocKy=2025-2026_HK1, maNamHoc=2025-2026, thuTu=1, isActive=true, tenHocKy=Họ (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-19 16:29:47 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:29:47 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-361] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK1
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK2
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK1
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK1", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK2
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK2", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:29:47 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK1
2025-08-19 16:29:47 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK2
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HKH
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HKH
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HKH", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:29:47 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HKH
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK2, tenHocKy=Học kỳ 2 - Năm học 2025 - 2026, ngayBatDau=2025-12-20, ngay (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HKH, tenHocKy=Học kỳ hè - Năm học 2025 - 2026, ngayBatDau=2026-05-22, nga (truncated)...]
2025-08-19 16:29:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-363] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-362] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-364] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:29:47 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:29:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:47 [SimpleAsyncTaskExecutor-365] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-366] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:29:52 [http-nio-8080-exec-10] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-6] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:29:52 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-19 16:29:52 [http-nio-8080-exec-9] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:29:52 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:29:52 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-367] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-368] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:29:52 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-369] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:29:52 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-370] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-371] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-372] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:52 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:29:52 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:29:52 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:52 [SimpleAsyncTaskExecutor-373] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-374] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:29:55 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-376] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-375] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-377] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-378] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-379] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-380] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-381] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-382] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-383] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-4] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-384] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-385] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-386] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:29:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:29:55 [http-nio-8080-exec-7] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:29:55 [http-nio-8080-exec-7] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:29:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:29:55 [SimpleAsyncTaskExecutor-387] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-388] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:32:40 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:32:40 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:32:40 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-5] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:32:40 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-389] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-390] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-391] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-392] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-393] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:32:40 [http-nio-8080-exec-7] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-394] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-395] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-396] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:40 [SimpleAsyncTaskExecutor-397] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:32:40 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:32:40 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:32:40 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:32:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:32:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:41 [SimpleAsyncTaskExecutor-398] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:41 [SimpleAsyncTaskExecutor-399] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:32:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:32:41 [SimpleAsyncTaskExecutor-400] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:32:41 [http-nio-8080-exec-5] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:32:41 [http-nio-8080-exec-5] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:32:41 [SimpleAsyncTaskExecutor-401] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:32:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/baocao-diemdanh
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/baocao-diemdanh
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/baocao-diemdanh", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#baocaoDiemdanhManagement(Authentication, Model)
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-402] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/statistics
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/statistics
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/statistics", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStatistics()
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:33:02 [http-nio-8080-exec-3] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - Lấy thống kê điểm danh tổng quan
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-403] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(distinct dd1_0.ma_lich) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{todayLate=0, totalExcused=0, todayAbsent=0, totalAbsent=0, totalLate=0, totalPresent=6, todayClasse (truncated)...]
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-404] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:33:02 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-405] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/recent-history?limit=50
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/recent-history?limit=50
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/recent-history?limit=50", parameters={masked}
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getRecentHistory(int)
2025-08-19 16:33:02 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - Lấy lịch sử điểm danh gần nhất, limit: 50
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:33:02 [http-nio-8080-exec-1] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:33:02 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-406] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:33:02 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:33:02 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-407] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    SELECT
        lh.ngay_hoc as date,
        mh.ten_mon_hoc as subjectName,
        mh.ma_mon_hoc as subjectCode,
        lhp.ma_lhp as className,
        gv.ho_ten as lecturerName,
        ph.ten_phong as roomName,
        CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
        COUNT(CASE 
            WHEN dd.trang_thai = 'CO_MAT' 
                THEN 1 
        END) as present,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_MAT' 
                THEN 1 
        END) as absent,
        COUNT(CASE 
            WHEN dd.trang_thai = 'DI_TRE' 
                THEN 1 
        END) as late,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_CO_PHEP' 
                THEN 1 
        END) as excused,
        COUNT(dd.id) as totalStudents 
    FROM
        lich_hoc lh 
    JOIN
        lop_hoc_phan lhp 
            ON lh.ma_lhp = lhp.ma_lhp 
    JOIN
        mon_hoc mh 
            ON lhp.ma_mon_hoc = mh.ma_mon_hoc 
    JOIN
        giang_vien gv 
            ON lhp.ma_gv = gv.ma_gv 
    JOIN
        phong_hoc ph 
            ON lh.ma_phong = ph.ma_phong 
    LEFT JOIN
        diem_danh dd 
            ON lh.ma_lich = dd.ma_lich 
    WHERE
        lh.ngay_hoc <= CURRENT_DATE 
    GROUP BY
        lh.ma_lich,
        lh.ngay_hoc,
        mh.ten_mon_hoc,
        mh.ma_mon_hoc,
        lhp.ma_lhp,
        gv.ho_ten,
        ph.ten_phong,
        lh.ca_hoc,
        lh.gio_bat_dau,
        lh.gio_ket_thuc 
    ORDER BY
        lh.ngay_hoc DESC,
        lh.gio_bat_dau DESC 
    LIMIT
        ? 
2025-08-19 16:33:02 [http-nio-8080-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1146, SQLState: 42S02
2025-08-19 16:33:02 [http-nio-8080-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Table 'face_attendance_legacy.lich_hoc' doesn't exist
2025-08-19 16:33:02 [http-nio-8080-exec-5] ERROR c.t.f.Service.DiemDanhService - Error getting recent attendance history
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance_legacy.lich_hoc' doesn't exist] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy192.findRecentAttendanceHistory(Unknown Source)
	at com.tathanhloc.faceattendance.Service.DiemDanhService.getRecentAttendanceHistory(DiemDanhService.java:379)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Service.DiemDanhService$$SpringCGLIB$$0.getRecentAttendanceHistory(<generated>)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController.getRecentHistory(DiemDanhController.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.tathanhloc.faceattendance.Aspect.LoggingAspect.logControllerMethods(LoggingAspect.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController$$SpringCGLIB$$0.getRecentHistory(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance_legacy.lich_hoc' doesn't exist] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52)
	at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:194)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:340)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:135)
	at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:693)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 173 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'face_attendance_legacy.lich_hoc' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1056)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 203 common frames omitted
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-19 16:33:02 [SimpleAsyncTaskExecutor-408] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:33:02 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/baocao-diemdanh
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/baocao-diemdanh
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/baocao-diemdanh", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#baocaoDiemdanhManagement(Authentication, Model)
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-409] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/admin.js
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/admin.js
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/admin.js", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/statistics
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/statistics
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/statistics", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStatistics()
2025-08-19 16:35:32 [http-nio-8080-exec-6] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:35:32 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - Lấy thống kê điểm danh tổng quan
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=? 
        and dd1_0.trang_thai=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(distinct dd1_0.ma_lich) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{todayLate=0, totalExcused=0, todayAbsent=0, totalAbsent=0, totalLate=0, totalPresent=6, todayClasse (truncated)...]
2025-08-19 16:35:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-410] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-411] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/recent-history?limit=50
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/recent-history?limit=50
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/recent-history?limit=50", parameters={masked}
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getRecentHistory(int)
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - Lấy lịch sử điểm danh gần nhất, limit: 50
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    SELECT
        lh.ngay_hoc as date,
        mh.ten_mon_hoc as subjectName,
        mh.ma_mon_hoc as subjectCode,
        lhp.ma_lhp as className,
        gv.ho_ten as lecturerName,
        ph.ten_phong as roomName,
        CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
        COUNT(CASE 
            WHEN dd.trang_thai = 'CO_MAT' 
                THEN 1 
        END) as present,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_MAT' 
                THEN 1 
        END) as absent,
        COUNT(CASE 
            WHEN dd.trang_thai = 'DI_TRE' 
                THEN 1 
        END) as late,
        COUNT(CASE 
            WHEN dd.trang_thai = 'VANG_CO_PHEP' 
                THEN 1 
        END) as excused,
        COUNT(dd.id) as totalStudents 
    FROM
        lich_hoc lh 
    JOIN
        lop_hoc_phan lhp 
            ON lh.ma_lhp = lhp.ma_lhp 
    JOIN
        mon_hoc mh 
            ON lhp.ma_mon_hoc = mh.ma_mon_hoc 
    JOIN
        giang_vien gv 
            ON lhp.ma_gv = gv.ma_gv 
    JOIN
        phong_hoc ph 
            ON lh.ma_phong = ph.ma_phong 
    LEFT JOIN
        diem_danh dd 
            ON lh.ma_lich = dd.ma_lich 
    WHERE
        lh.ngay_hoc <= CURRENT_DATE 
    GROUP BY
        lh.ma_lich,
        lh.ngay_hoc,
        mh.ten_mon_hoc,
        mh.ma_mon_hoc,
        lhp.ma_lhp,
        gv.ho_ten,
        ph.ten_phong,
        lh.ca_hoc,
        lh.gio_bat_dau,
        lh.gio_ket_thuc 
    ORDER BY
        lh.ngay_hoc DESC,
        lh.gio_bat_dau DESC 
    LIMIT
        ? 
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:35:32 [http-nio-8080-exec-9] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 1146, SQLState: 42S02
2025-08-19 16:35:32 [http-nio-8080-exec-9] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Table 'face_attendance_legacy.lich_hoc' doesn't exist
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:35:32 [http-nio-8080-exec-9] ERROR c.t.f.Service.DiemDanhService - Error getting recent attendance history
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance_legacy.lich_hoc' doesn't exist] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:277)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy192.findRecentAttendanceHistory(Unknown Source)
	at com.tathanhloc.faceattendance.Service.DiemDanhService.getRecentAttendanceHistory(DiemDanhService.java:379)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Service.DiemDanhService$$SpringCGLIB$$0.getRecentAttendanceHistory(<generated>)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController.getRecentHistory(DiemDanhController.java:146)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)
	at com.tathanhloc.faceattendance.Aspect.LoggingAspect.logControllerMethods(LoggingAspect.java:51)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:642)
	at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:632)
	at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:71)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:727)
	at com.tathanhloc.faceattendance.Controller.DiemDanhController$$SpringCGLIB$$0.getRecentHistory(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.ObservationFilterChainDecorator$FilterObservation$SimpleFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:479)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$1(ObservationFilterChainDecorator.java:340)
	at org.springframework.security.web.ObservationFilterChainDecorator.lambda$wrapSecured$0(ObservationFilterChainDecorator.java:82)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:128)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151)
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:227)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.wrapFilter(ObservationFilterChainDecorator.java:240)
	at org.springframework.security.web.ObservationFilterChainDecorator$AroundFilterObservation$SimpleAroundFilterObservation.lambda$wrap$0(ObservationFilterChainDecorator.java:323)
	at org.springframework.security.web.ObservationFilterChainDecorator$ObservationFilter.doFilter(ObservationFilterChainDecorator.java:224)
	at org.springframework.security.web.ObservationFilterChainDecorator$VirtualFilterChain.doFilter(ObservationFilterChainDecorator.java:137)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:397)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1447)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [SELECT
    lh.ngay_hoc as date,
    mh.ten_mon_hoc as subjectName,
    mh.ma_mon_hoc as subjectCode,
    lhp.ma_lhp as className,
    gv.ho_ten as lecturerName,
    ph.ten_phong as roomName,
    CONCAT('Ca ', lh.ca_hoc, ' (', lh.gio_bat_dau, '-', lh.gio_ket_thuc, ')') as session,
    COUNT(CASE WHEN dd.trang_thai = 'CO_MAT' THEN 1 END) as present,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_MAT' THEN 1 END) as absent,
    COUNT(CASE WHEN dd.trang_thai = 'DI_TRE' THEN 1 END) as late,
    COUNT(CASE WHEN dd.trang_thai = 'VANG_CO_PHEP' THEN 1 END) as excused,
    COUNT(dd.id) as totalStudents
FROM lich_hoc lh
JOIN lop_hoc_phan lhp ON lh.ma_lhp = lhp.ma_lhp
JOIN mon_hoc mh ON lhp.ma_mon_hoc = mh.ma_mon_hoc
JOIN giang_vien gv ON lhp.ma_gv = gv.ma_gv
JOIN phong_hoc ph ON lh.ma_phong = ph.ma_phong
LEFT JOIN diem_danh dd ON lh.ma_lich = dd.ma_lich
WHERE lh.ngay_hoc <= CURRENT_DATE
GROUP BY lh.ma_lich, lh.ngay_hoc, mh.ten_mon_hoc, mh.ma_mon_hoc,
         lhp.ma_lhp, gv.ho_ten, ph.ten_phong, lh.ca_hoc, lh.gio_bat_dau, lh.gio_ket_thuc
ORDER BY lh.ngay_hoc DESC, lh.gio_bat_dau DESC
LIMIT ?
] [Table 'face_attendance_legacy.lich_hoc' doesn't exist] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:66)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getMetaData(AbstractResultSetAccess.java:36)
	at org.hibernate.sql.results.jdbc.internal.AbstractResultSetAccess.getColumnCount(AbstractResultSetAccess.java:52)
	at org.hibernate.query.results.ResultSetMappingImpl.resolve(ResultSetMappingImpl.java:194)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:340)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.query.sql.internal.NativeSelectQueryPlanImpl.performList(NativeSelectQueryPlanImpl.java:135)
	at org.hibernate.query.sql.internal.NativeQueryImpl.doList(NativeQueryImpl.java:693)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 173 common frames omitted
Caused by: java.sql.SQLSyntaxErrorException: Table 'face_attendance_legacy.lich_hoc' doesn't exist
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:112)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeQuery(ClientPreparedStatement.java:1056)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 203 common frames omitted
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-412] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[]]
2025-08-19 16:35:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-413] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:35:32 [http-nio-8080-exec-4] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [application/json] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:35:32 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-414] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:35:32 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:35:32 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:32 [SimpleAsyncTaskExecutor-415] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cauhinh-hocky
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cauhinh-hocky
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/cauhinh-hocky", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#cauhinhHockyManagement(Authentication, Model)
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-416] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/all
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hockynamhoc
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hockynamhoc
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/all
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/all", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hockynamhoc", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAllIncludeInactive()
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyNamHocController#getAll()
2025-08-19 16:35:36 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học (bao gồm inactive)
2025-08-19 16:35:36 [http-nio-8080-exec-4] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hknh1_0.id,
        hknh1_0.ma_hoc_ky,
        hknh1_0.is_active,
        hknh1_0.ma_nam_hoc,
        hknh1_0.thu_tu 
    from
        hoc_ky_nam_hoc hknh1_0
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-418] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-417] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[HocKyNamHocDTO(id=9, maHocKy=2025-2026_HK1, maNamHoc=2025-2026, thuTu=1, isActive=true, tenHocKy=Họ (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-419] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-19 16:35:36 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-420] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK1
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK1
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK1", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:35:36 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK1
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK2
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK2
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK2", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:35:36 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK2
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-421] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HKH
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK2, tenHocKy=Học kỳ 2 - Năm học 2025 - 2026, ngayBatDau=2025-12-20, ngay (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HKH
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-422] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HKH", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:35:36 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HKH
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HKH, tenHocKy=Học kỳ hè - Năm học 2025 - 2026, ngayBatDau=2026-05-22, nga (truncated)...]
2025-08-19 16:35:36 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-423] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@1e4f0ecb, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:35:36 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:35:36 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:35:36 [SimpleAsyncTaskExecutor-424] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:38:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-08-19 16:38:44 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-19 16:38:44 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:38:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-19 16:38:44 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 16:38:44 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-19 16:38:44 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]]
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@39e5efaa]
2025-08-19 16:38:44 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:38:44 [Thread-5] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:38:44 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:38:44 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-19 16:38:44 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-19 16:38:45 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 34040 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 16:38:45 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 16:38:45 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:38:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 16:38:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 53 ms. Found 21 JPA repository interfaces.
2025-08-19 16:38:46 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 16:38:46 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 16:38:46 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 16:38:46 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:38:46 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:38:46 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 16:38:46 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:38:46 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1436 ms
2025-08-19 16:38:46 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [0E869C70954F9B131842A129CF50E341]
2025-08-19 16:38:46 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 16:38:46 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 16:38:46 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 16:38:46 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 16:38:46 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 16:38:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-19 16:38:46 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5be0467b
2025-08-19 16:38:46 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-19 16:38:46 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 16:38:46 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 16:38:46 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 16:38:47 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 16:38:47 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 16:38:47 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:38:47 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 16:38:47 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:38:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:38:48 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [D:\LuanVan\face-attendance\target\classes\com\tathanhloc\faceattendance\Controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 3: No qualifying bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-08-19 16:38:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:38:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-19 16:38:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-19 16:38:48 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-19 16:38:48 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-19 16:38:48 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 3 of constructor in com.tathanhloc.faceattendance.Controller.AdminDashboardController required a bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' that could not be found.


Action:

Consider defining a bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' in your configuration.

2025-08-19 16:38:50 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 34040 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 16:38:50 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 16:38:50 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:38:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 16:38:50 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 52 ms. Found 21 JPA repository interfaces.
2025-08-19 16:38:51 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 16:38:51 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 16:38:51 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 16:38:51 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:38:51 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:38:51 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 16:38:51 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:38:51 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 694 ms
2025-08-19 16:38:51 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 16:38:51 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 16:38:51 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 16:38:51 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 16:38:51 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 16:38:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-19 16:38:51 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49ae4201
2025-08-19 16:38:51 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-19 16:38:51 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 16:38:51 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 16:38:51 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 16:38:51 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 16:38:51 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 16:38:51 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:38:51 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 16:38:51 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:38:51 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:38:53 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-19 16:38:53 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-19 16:38:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-19 16:38:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-19 16:38:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-19 16:38:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-19 16:38:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-19 16:38:54 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-19 16:38:54 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-19 16:38:54 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-19 16:38:54 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-19 16:38:54 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-19 16:38:54 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-19 16:38:54 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-19 16:38:54 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-19 16:38:54 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-19 16:38:54 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-19 16:38:54 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-19 16:38:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 16:38:55 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]
2025-08-19 16:38:55 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]]
2025-08-19 16:38:55 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:38:55 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:38:55 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:38:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-19 16:38:55 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 4.879 seconds (process running for 24122.957)
2025-08-19 16:38:55 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:38:55 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-19 16:39:55 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-19 16:43:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-08-19 16:43:44 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-19 16:43:44 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:43:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-19 16:43:44 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 16:43:44 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-19 16:43:44 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]]
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@16aa378d]
2025-08-19 16:43:44 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:43:44 [Thread-7] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:43:44 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:43:44 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-08-19 16:43:44 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-08-19 16:43:44 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 34040 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 16:43:44 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 16:43:44 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:43:44 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 16:43:45 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 59 ms. Found 21 JPA repository interfaces.
2025-08-19 16:43:45 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 16:43:45 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 16:43:45 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 16:43:45 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:43:45 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:43:45 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 16:43:45 [restartedMain] INFO  o.a.c.c.C.[Tomcat-1].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:43:45 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1130 ms
2025-08-19 16:43:45 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 16:43:45 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 16:43:45 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 16:43:45 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 16:43:45 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 16:43:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-08-19 16:43:45 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@71cf80ad
2025-08-19 16:43:45 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-08-19 16:43:45 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 16:43:45 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 16:43:45 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 16:43:46 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 16:43:46 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 16:43:46 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:43:46 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 16:43:46 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:43:46 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:43:47 [restartedMain] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'adminDashboardController' defined in file [D:\LuanVan\face-attendance\target\classes\com\tathanhloc\faceattendance\Controller\AdminDashboardController.class]: Unsatisfied dependency expressed through constructor parameter 3: No qualifying bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-08-19 16:43:47 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:43:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-08-19 16:43:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-08-19 16:43:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-08-19 16:43:47 [restartedMain] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-08-19 16:43:47 [restartedMain] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 3 of constructor in com.tathanhloc.faceattendance.Controller.AdminDashboardController required a bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' that could not be found.


Action:

Consider defining a bean of type 'com.tathanhloc.faceattendance.Service.DiemDanhService' in your configuration.

2025-08-19 16:43:48 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 34040 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 16:43:48 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 16:43:48 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 16:43:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 16:43:49 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 21 JPA repository interfaces.
2025-08-19 16:43:49 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 16:43:49 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 16:43:49 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 16:43:49 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 16:43:49 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 16:43:49 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 16:43:49 [restartedMain] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 16:43:49 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 679 ms
2025-08-19 16:43:49 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 16:43:49 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 16:43:49 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 16:43:49 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 16:43:49 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 16:43:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-08-19 16:43:49 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ed97856
2025-08-19 16:43:49 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-08-19 16:43:49 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 16:43:49 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 16:43:49 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 16:43:50 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 16:43:50 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 16:43:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:43:50 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 16:43:50 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 16:43:50 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 16:43:52 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-19 16:43:52 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-19 16:43:53 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-19 16:43:53 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-19 16:43:53 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-19 16:43:53 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-19 16:43:53 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-19 16:43:53 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-19 16:43:53 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-19 16:43:53 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-19 16:43:53 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-19 16:43:54 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-19 16:43:54 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-19 16:43:54 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 16:43:54 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]
2025-08-19 16:43:54 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]]
2025-08-19 16:43:54 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:43:54 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 16:43:54 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 16:43:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-19 16:43:54 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 5.78 seconds (process running for 24422.467)
2025-08-19 16:43:54 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:43:54 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-19 16:44:54 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-19 16:46:39 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat-2].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 16:46:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@33a797ab
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@32aa6aa6
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-19 16:46:39 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cauhinh-hocky
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:46:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/admin/cauhinh-hocky?continue to session
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-19 16:46:39 [http-nio-8080-exec-2] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-19 16:46:39 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:46:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:39 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-19 16:46:41 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: admin
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 16:46:41 [http-nio-8080-exec-5] INFO  c.t.f.S.CustomUserDetailsService - User found: admin with role: ADMIN and active status: true
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '0E869C70954F9B131842A129CF50E341' and migrating attributes.
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: B163F5CF74102A5097991AC059F2732B
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 0E869C70954F9B131842A129CF50E341
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session B163F5CF74102A5097991AC059F2732B, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4c6a047c]
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/dashboard
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/dashboard
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/dashboard", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#dashboard(Authentication, Model)
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - === ADMIN DASHBOARD ACCESS ===
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Authentication: UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Is Authenticated: true
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard access granted for user: admin
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - User role: ADMIN
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lop l1_0
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - Dashboard stats loaded - Students: 60, Lecturers: 6, Classes: 4, Attendance: 0
2025-08-19 16:46:41 [http-nio-8080-exec-6] INFO  c.t.f.C.AdminDashboardController - ✅ Admin dashboard loaded successfully
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/count
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien/count
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/cameras
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien/count
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien/count", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/count
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/count", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getTeacherCount()
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/cameras
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/recent-errors?limit=5
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getStudentCount()
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/cameras", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/search?size=5&sortBy=createdAt&sortDir=desc
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CameraController#getAll()
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/search?size=5&sortBy=createdAt&sortDir=desc", parameters={masked}
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#searchLogs(String, LogLevel, String, String, LocalDateTime, LocalDateTime, String, int, int, String, String)
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        sinhvien sv1_0
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        giangvien gv1_0
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/recent-errors?limit=5
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.ip_address,
        c1_0.is_active,
        c1_0.ma_phong,
        c1_0.password,
        c1_0.ten_camera,
        c1_0.vung_in,
        c1_0.vung_out 
    from
        camera c1_0
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/recent-errors?limit=5", parameters={masked}
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getRecentErrors(int)
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=60, status=success}]
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{count=6, status=success}]
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[CameraDTO(id=6, tenCamera=A501, ipAddress=rtsp://admin:24082003Tl@192.168.101.217:554/ch1/main, maP (truncated)...]
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sl1_0.id,
        sl1_0.action,
        sl1_0.created_at,
        sl1_0.duration_ms,
        sl1_0.entity_id,
        sl1_0.entity_type,
        sl1_0.error_details,
        sl1_0.ip_address,
        sl1_0.log_level,
        sl1_0.message,
        sl1_0.module,
        sl1_0.new_value,
        sl1_0.old_value,
        sl1_0.request_method,
        sl1_0.request_url,
        sl1_0.session_id,
        sl1_0.status,
        sl1_0.user_agent,
        sl1_0.user_id,
        sl1_0.user_name 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        ) 
    order by
        sl1_0.created_at desc 
    limit
        ?
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        (
            ? is null 
            or sl1_0.module=?
        ) 
        and (
            ? is null 
            or sl1_0.log_level=?
        ) 
        and (
            ? is null 
            or sl1_0.status=?
        ) 
        and (
            ? is null 
            or sl1_0.user_id=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at>=?
        ) 
        and (
            ? is null 
            or sl1_0.created_at<=?
        ) 
        and (
            ? is null 
            or lower(sl1_0.message) like replace(lower(concat('%', ?, '%')), '\\', '\\\\') 
            or lower(sl1_0.action) like replace(lower(concat('%', ?, '%')), '\\', '\\\\')
        )
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SystemLogDTO(id=116, logLevel=ERROR, module=API, action=GiangVienController.getById, message=API ca (truncated)...]
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:46:41 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-6] WARN  o.s.d.w.c.SpringDataJacksonConfiguration$PageModule$WarningLoggingModifier - Serializing PageImpl instances as-is is not supported, meaning that there is no guarantee about the stability of the resulting JSON structure!
	For a stable JSON structure, please use Spring Data's PagedModel (globally via @EnableSpringDataWebSupport(pageSerializationMode = VIA_DTO))
	or Spring HATEOAS and Spring Data's PagedResourcesAssembler as documented in https://docs.spring.io/spring-data/commons/reference/repositories/core-extensions.html#core.web.pageables.

2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9990, errorsLast24h=0, statusStats={SUCCESS=9958, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:46:41 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [Page 1 of 1999 containing com.tathanhloc.faceattendance.DTO.SystemLogDTO instances]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/logs/statistics
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/logs/statistics
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/logs/statistics", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SystemLogController#getLogStatistics()
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        system_log sl1_0
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:46:41 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.log_level in ('ERROR', 'FATAL') 
        and sl1_0.created_at>=?
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.log_level,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.log_level
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.module,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    group by
        sl1_0.module 
    order by
        count(sl1_0.id) desc
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sl1_0.status,
        count(sl1_0.id) 
    from
        system_log sl1_0 
    where
        sl1_0.status is not null 
    group by
        sl1_0.status
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{totalLogs=9996, errorsLast24h=0, statusStats={SUCCESS=9960, FAILED=35, WARNING=2}, logLevelCounts={ (truncated)...]
2025-08-19 16:46:41 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:41 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/cauhinh-hocky
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/cauhinh-hocky
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/cauhinh-hocky", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#cauhinhHockyManagement(Authentication, Model)
2025-08-19 16:46:42 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:46:42 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hockynamhoc
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/all
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/all
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/all", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAllIncludeInactive()
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hockynamhoc
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hockynamhoc", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyNamHocController#getAll()
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-19 16:46:42 [http-nio-8080-exec-5] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học (bao gồm inactive)
2025-08-19 16:46:42 [http-nio-8080-exec-9] INFO  c.t.f.Controller.NamHocController - Lấy năm học hiện tại
2025-08-19 16:46:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:46:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:46:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hknh1_0.id,
        hknh1_0.ma_hoc_ky,
        hknh1_0.is_active,
        hknh1_0.ma_nam_hoc,
        hknh1_0.thu_tu 
    from
        hoc_ky_nam_hoc hknh1_0
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[HocKyNamHocDTO(id=9, maHocKy=2025-2026_HK1, maNamHoc=2025-2026, thuTu=1, isActive=true, tenHocKy=Họ (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-19 16:46:43 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ hiện tại
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK1
2025-08-19 16:46:43 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK1
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK1", parameters={}
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:46:43 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK1
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HK2
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HK2
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HK2", parameters={}
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/2025-2026_HKH
2025-08-19 16:46:43 [http-nio-8080-exec-1] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HK2
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/2025-2026_HKH
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/2025-2026_HKH", parameters={}
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getById(String)
2025-08-19 16:46:43 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy học kỳ với ID: 2025-2026_HKH
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK2, tenHocKy=Học kỳ 2 - Năm học 2025 - 2026, ngayBatDau=2025-12-20, ngay (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HKH, tenHocKy=Học kỳ hè - Năm học 2025 - 2026, ngayBatDau=2026-05-22, nga (truncated)...]
2025-08-19 16:46:43 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:46:43 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:46:43 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:43 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lophocphan
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lophocphan
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lophocphan", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lophocphanManagement(Authentication, Model)
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/sinhvien/all
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/sinhvien/all
2025-08-19 16:46:44 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/sinhvien/all", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:46:44 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.SinhVienController#getAllStudentsNoPagination()
2025-08-19 16:46:44 [http-nio-8080-exec-2] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:46:44 [http-nio-8080-exec-1] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:46:44 [http-nio-8080-exec-4] INFO  c.t.f.Controller.SinhVienController - Lấy tất cả sinh viên (không phân trang)
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:46:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop 
    from
        lop l1_0 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        l1_0.ma_lop=?
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:46:44 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:46:44 [http-nio-8080-exec-6] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:46:44 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:44 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-1] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:46:45 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-9] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:46:45 [http-nio-8080-exec-7] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:46:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:46:45 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:45 [SimpleAsyncTaskExecutor-37] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:46:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:46:46 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:46:46 [SimpleAsyncTaskExecutor-38] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:46:46 [SimpleAsyncTaskExecutor-39] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:46:46 [SimpleAsyncTaskExecutor-40] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:46 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:46:46 [SimpleAsyncTaskExecutor-41] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:46:46 [http-nio-8080-exec-6] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:46:46 [http-nio-8080-exec-6] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=1, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:46:46 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:46 [SimpleAsyncTaskExecutor-42] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing POST /api/lichhoc/check-conflicts
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured POST /api/lichhoc/check-conflicts
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/lichhoc/check-conflicts", parameters={}
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#checkConflicts(LichHocDTO)
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507, isActive=null (truncated)...]
2025-08-19 16:46:57 [http-nio-8080-exec-4] INFO  c.t.f.Controller.LichHocController - API: Kiểm tra trùng lịch cho LichHocDTO(maLich=null, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507, isActive=null, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{conflictDetails=[Phòng A507 đã có lịch học trong thời gian này, Giảng viên đã có lịch dạy trong thờ (truncated)...]
2025-08-19 16:46:57 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:57 [SimpleAsyncTaskExecutor-43] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured PUT /api/lichhoc/LH1752009056467XZS
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - PUT "/api/lichhoc/LH1752009056467XZS", parameters={}
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#update(String, LichHocDTO)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507, (truncated)...]
2025-08-19 16:46:58 [http-nio-8080-exec-10] INFO  c.t.f.Service.LichHocService - Updating schedule with ID LH1752009056467XZS: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom,
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    left join
        phonghoc ph1_0 
            on ph1_0.ma_phong=lh1_0.ma_phong 
    where
        lh1_0.ma_lich=?
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:46:58 [http-nio-8080-exec-10] INFO  c.t.f.Service.LichHocService - Checking conflicts for update - Schedule ID: LH1752009056467XZS, DTO: LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507, isActive=true, updateAt=null, tenMonHoc=null, tenGiangVien=null, tenPhong=null, nhom=null, maMh=null, maGv=null, hocKy=null, namHoc=null, thoiGianBatDau=null, thoiGianKetThuc=null, tenThu=null)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:58 [http-nio-8080-exec-10] INFO  c.t.f.Service.LichHocService - Conflict check result for update: hasConflict=false, conflicts=[]
2025-08-19 16:46:58 [SimpleAsyncTaskExecutor-44] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    update
        lichhoc 
    set
        created_at=?,
        is_active=?,
        ma_lhp=?,
        ma_phong=?,
        so_tiet=?,
        thu=?,
        tiet_bat_dau=?,
        updated_at=? 
    where
        ma_lich=?
2025-08-19 16:46:58 [SimpleAsyncTaskExecutor-45] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{success=true, message=Cập nhật lịch học thành công!, data=LichHocDTO(maLich=LH1752009056467XZS, thu (truncated)...]
2025-08-19 16:46:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:46:58 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:46:58 [SimpleAsyncTaskExecutor-46] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:47:05 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:47:05 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:47:05 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-19 16:47:05 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:47:05 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:47:05 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-19 16:47:05 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:47:05 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:47:05 [SimpleAsyncTaskExecutor-47] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:47:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:49:07 [SimpleAsyncTaskExecutor-48] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:07 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:49:07 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:49:07 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-19 16:49:07 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:49:07 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-19 16:49:07 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [SimpleAsyncTaskExecutor-49] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:49:07 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:07 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:49:08 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:49:08 [http-nio-8080-exec-5] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-50] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-51] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-52] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-54] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-53] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-56] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-55] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-2] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-57] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:49:08 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:49:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-58] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-59] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-60] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-61] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:49:08 [http-nio-8080-exec-3] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:49:08 [http-nio-8080-exec-3] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:49:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:08 [SimpleAsyncTaskExecutor-62] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:49:15 [SimpleAsyncTaskExecutor-63] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:15 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:49:15 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:49:15 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-19 16:49:15 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:49:15 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-19 16:49:15 [SimpleAsyncTaskExecutor-64] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:49:15 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:15 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:15 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:49:16 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:49:16 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:49:16 [http-nio-8080-exec-8] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-66] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-67] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-65] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-68] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:49:16 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-69] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-2] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-71] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-70] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-72] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:49:16 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:49:16 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-73] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-74] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-75] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-76] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:49:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:49:16 [http-nio-8080-exec-1] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:49:16 [http-nio-8080-exec-1] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:49:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:49:16 [SimpleAsyncTaskExecutor-77] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /admin/lichhoc
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /admin/lichhoc
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/admin/lichhoc", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AdminDashboardController#lichhocManagement(Authentication, Model)
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-78] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:50:20 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-19 16:50:20 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - 🚨 Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - 🔍 Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-19 16:50:20 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🌐 Handling as Web request
2025-08-19 16:50:20 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - 🔍 404 Not Found - Redirecting to 404 page
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-79] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/admin.css
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/common.js
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/common.js
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/admin.css
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/admin.css", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/common.js", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getAll()
2025-08-19 16:50:20 [http-nio-8080-exec-2] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/phonghoc/all
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/giangvien
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/giangvien
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/giangvien", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/phonghoc/all
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/phonghoc/all", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.GiangVienController#getAll(String, String, String)
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.PhongHocController#getAllRooms()
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.is_active
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        gv1_0.ma_khoa 
    from
        giangvien gv1_0
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[PhongHocDTO(maPhong=A201, tenPhong=Phòng học A201, loaiPhong=LECTURE, sucChua=60, toaNha=Tòa A, tan (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-80] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - Lấy danh sách tất cả học kỳ
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0 
    where
        k1_0.ma_khoa=?
2025-08-19 16:50:20 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-81] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[GiangVienDTO(maGv=GV001, hoTen=Nguyễn Văn A, email=gv001@university.edu.vn, isActive=false, maKhoa= (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-82] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=Học kỳ 1 - Năm học 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-1] INFO  c.t.f.Controller.NamHocController - Lấy danh sách tất cả năm học
2025-08-19 16:50:20 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-83] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-84] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/khoa
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=Năm học 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-85] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/khoa
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/khoa", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.KhoaController#getAll()
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        khoa k1_0
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [[KhoaDTO(maKhoa=CNTT, tenKhoa=Công Nghệ Thông Tin, isActive=false), KhoaDTO(maKhoa=HTTT, tenKhoa=Hệ  (truncated)...]
2025-08-19 16:50:20 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-86] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/monhoc
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/monhoc
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/monhoc", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.MonHocController#getAll()
2025-08-19 16:50:20 [http-nio-8080-exec-8] INFO  c.t.f.Controller.MonHocController - Lấy danh sách tất cả môn học
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG c.t.f.Service.MonHocService - Getting all MonHoc
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nmh1_0.ma_mh,
        nmh1_0.ma_nganh,
        nmh1_0.is_active 
    from
        nganh_monhoc nmh1_0 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=nmh1_0.ma_mh 
    where
        mh1_0.ma_mh=?
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[MonHocDTO(maMh=COMP101, tenMh=Nhập môn lập trình, soTinChi=3, isActive=true, maNganhs=[CNTT, HTTT]) (truncated)...]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-87] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-19 16:50:20 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: admin
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=1, username=admin, vaiTro=ADMIN, isActive=true, hoTen=null, maSo=null, email=null)]
2025-08-19 16:50:20 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-88] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_01/sinhvien
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_01/sinhvien", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072004080, hoTen=Lưu Thành Lượng, gioiTinh=NAM, ngaySinh=2003-10-02, email=21072 (truncated)...]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-89] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lophocphan/G09412_02/sinhvien
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lophocphan/G09412_02/sinhvien", parameters={}
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LopHocPhanController#getStudentsByLhp(String)
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[SinhVienDTO(maSv=21072006076, hoTen=Phạm Trí Đại, gioiTinh=NAM, ngaySinh=2003-09-19, email=21072006 (truncated)...]
2025-08-19 16:50:20 [SimpleAsyncTaskExecutor-90] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:20 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/dangkyhoc
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/dangkyhoc
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/dangkyhoc", parameters={}
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DangKyHocController#getAll()
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[DangKyHocDTO(maSv=21072004080, maLhp=G09412_01, isActive=true, tenMonHoc=null, tenGiangVien=null, t (truncated)...]
2025-08-19 16:50:21 [SimpleAsyncTaskExecutor-91] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc/current-semester
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc/current-semester
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc/current-semester", parameters={}
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getCurrentSemesterSchedule()
2025-08-19 16:50:21 [http-nio-8080-exec-10] INFO  c.t.f.Controller.LichHocController - API: Lấy lịch học học kỳ hiện tại
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-19 16:50:21 [http-nio-8080-exec-10] INFO  c.t.f.Service.LichHocService - Getting schedule for semester: 2025-2026_HK1
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:50:21 [SimpleAsyncTaskExecutor-92] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:50:21 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 16:55:21 [SimpleAsyncTaskExecutor-93] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 16:55:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 17:00:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:00:21 [SimpleAsyncTaskExecutor-94] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 17:05:21 [SimpleAsyncTaskExecutor-95] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 17:05:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 17:10:21 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:10:21 [SimpleAsyncTaskExecutor-96] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 17:14:54 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 17:15:21 [SimpleAsyncTaskExecutor-97] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 17:15:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lichhoc
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@25e04381, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=0E869C70954F9B131842A129CF50E341], Granted Authorities=[ROLE_ADMIN]]]
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lichhoc
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lichhoc", parameters={}
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LichHocController#getAll()
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LichHocDTO(maLich=LH1752009056467XZS, thu=3, tietBatDau=12, soTiet=2, maLhp=G09412_01, maPhong=A507 (truncated)...]
2025-08-19 17:20:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-19 17:20:21 [SimpleAsyncTaskExecutor-98] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-19 17:25:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6b95f36b]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-08-19 17:25:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-08-19 23:19:31 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-19 23:19:31 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 9328 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-19 23:19:31 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-19 23:19:31 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-19 23:19:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-19 23:19:31 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-19 23:19:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-19 23:19:33 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 140 ms. Found 21 JPA repository interfaces.
2025-08-19 23:19:34 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Registering custom error pages for Face Attendance System
2025-08-19 23:19:34 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Error pages registered successfully
2025-08-19 23:19:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-19 23:19:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-19 23:19:35 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-19 23:19:35 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-19 23:19:35 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-19 23:19:35 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3992 ms
2025-08-19 23:19:35 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [B163F5CF74102A5097991AC059F2732B]
2025-08-19 23:19:35 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-08-19 23:19:35 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-19 23:19:35 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-19 23:19:36 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-19 23:19:36 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-19 23:19:36 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-19 23:19:36 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-19 23:19:36 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-19 23:19:37 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@758a373b
2025-08-19 23:19:37 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-19 23:19:37 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-19 23:19:37 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-19 23:19:37 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-19 23:19:38 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-19 23:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-19 23:19:39 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 23:19:39 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-19 23:19:39 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-19 23:19:39 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-19 23:19:40 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-19 23:19:46 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-19 23:19:46 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-19 23:19:47 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-19 23:19:47 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-19 23:19:48 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-19 23:19:48 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring view controllers
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ View controllers configured successfully
2025-08-19 23:19:48 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - 🔧 Configuring static resource handlers
2025-08-19 23:19:48 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ✅ Static resource handlers configured successfully
2025-08-19 23:19:48 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - 🔧 Configuring static resource handlers
2025-08-19 23:19:48 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-19 23:19:48 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ Added CLASSPATH streams handler
2025-08-19 23:19:48 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ✅ All resource handlers configured successfully
2025-08-19 23:19:48 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-19 23:19:48 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-19 23:19:49 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-19 23:19:50 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-19 23:19:50 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6be74655]
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6be74655]
2025-08-19 23:19:50 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@6be74655]]
2025-08-19 23:19:50 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 23:19:50 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-19 23:19:50 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-19 23:19:50 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-19 23:19:50 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 20.558 seconds (process running for 22.233)
2025-08-19 23:19:51 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d165fa1
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7fed51a3
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-19 23:19:51 [RMI TCP Connection(3)-172.16.71.31] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-08-19 23:20:50 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-19 23:50:50 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 2, active threads = 1, queued tasks = 0, completed tasks = 1]

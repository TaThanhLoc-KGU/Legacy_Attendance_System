2025-08-21 01:34:08 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-21 01:34:08 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-21 01:34:08 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:08 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:08 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=H·ªçc k·ª≥ 1 - NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-21 01:34:08 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-21 01:34:08 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:08 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:34:10 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:34:10 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:34:10 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:34:10 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:10 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:34:10 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:34:10 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:34:10 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:34:10 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:34:10 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:10 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:10 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:34:10 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:34:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:10 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:34:11 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:11 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:34:11 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:34:11 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:34:12 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:34:12 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /lecturer/api/attendance-report/G09412_01.
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /lecturer/api/attendance-report/G09412_01.]
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:34:12 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /lecturer/api/attendance-report/G09412_01 | Message: No endpoint GET /lecturer/api/attendance-report/G09412_01.
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=*/*, ContentType=application/json, IsAPI=true
2025-08-21 01:34:12 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - üì± Handling as API request
2025-08-21 01:34:12 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - üì§ API Error Response: {path=/lecturer/api/attendance-report/G09412_01, debug={acceptHeader=*/*, userAgent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36 Edg/139.0.0.0, originalMessage=No endpoint GET /lecturer/api/attendance-report/G09412_01., contentType=application/json, remoteAddr=0:0:0:0:0:0:0:1}, method=GET, error=Not Found, message=API endpoint kh√¥ng t·ªìn t·∫°i: GET /lecturer/api/attendance-report/G09412_01, timestamp=2025-08-21T01:34:12.477579300, status=404}
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{path=/lecturer/api/attendance-report/G09412_01, debug={acceptHeader=*/*, userAgent=Mozilla/5.0 (Win (truncated)...]
2025-08-21 01:34:12 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:34:12 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@41849618, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=51B68603B9A3FDB186B50CBF9A31432A], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-21 01:34:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3a0a03bd]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3a0a03bd]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@3a0a03bd]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown initiated...
2025-08-21 01:34:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-20 - Shutdown completed.
2025-08-21 01:34:30 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.2.Final
2025-08-21 01:34:30 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 31500 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-21 01:34:30 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-21 01:34:30 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-21 01:34:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-08-21 01:34:30 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-08-21 01:34:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-21 01:34:31 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 21 JPA repository interfaces.
2025-08-21 01:34:32 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Registering custom error pages for Face Attendance System
2025-08-21 01:34:32 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Error pages registered successfully
2025-08-21 01:34:32 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-21 01:34:32 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-21 01:34:32 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-21 01:34:32 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-21 01:34:32 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-21 01:34:32 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2102 ms
2025-08-21 01:34:32 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [BBD71D101C2F1E61DA663407D4462915]
2025-08-21 01:34:32 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-08-21 01:34:32 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-21 01:34:32 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-21 01:34:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-21 01:34:32 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.11.Final
2025-08-21 01:34:32 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-21 01:34:33 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-21 01:34:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-08-21 01:34:33 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@23d64082
2025-08-21 01:34:33 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-08-21 01:34:33 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-21 01:34:33 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-21 01:34:33 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-21 01:34:34 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-21 01:34:34 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-21 01:34:35 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:34:35 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-21 01:34:35 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:34:35 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:34:35 [restartedMain] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-08-21 01:34:40 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-21 01:34:40 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-21 01:34:40 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-21 01:34:41 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 364 mappings in 'requestMappingHandlerMapping'
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-21 01:34:41 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-21 01:34:41 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring view controllers
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ View controllers configured successfully
2025-08-21 01:34:41 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring static resource handlers
2025-08-21 01:34:41 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Static resource handlers configured successfully
2025-08-21 01:34:41 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - üîß Configuring static resource handlers
2025-08-21 01:34:41 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-21 01:34:41 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added CLASSPATH streams handler
2025-08-21 01:34:41 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ All resource handlers configured successfully
2025-08-21 01:34:41 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-21 01:34:41 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-21 01:34:41 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-21 01:34:42 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-21 01:34:43 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:34:43 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]
2025-08-21 01:34:43 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]]
2025-08-21 01:34:43 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:34:43 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:34:43 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-21 01:34:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-21 01:34:43 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 13.484 seconds (process running for 16.265)
2025-08-21 01:34:43 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@11951569
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@43ea8659
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-21 01:34:43 [RMI TCP Connection(2)-172.16.71.31] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-08-21 01:34:44 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:34:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id BBD71D101C2F1E61DA663407D4462915
2025-08-21 01:34:44 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/lecturer/lophoc/G09412_01?continue to session
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:34:44 [http-nio-8080-exec-3] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-21 01:34:44 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:34:44 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:45 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:45 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-21 01:34:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:34:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:34:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:34:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:34:45 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-21 01:34:45 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:45 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:45 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:45 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-21 01:34:46 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: gv005
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:34:46 [http-nio-8080-exec-7] INFO  c.t.f.S.CustomUserDetailsService - User found: GV005 with role: GIANGVIEN and active status: true
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id '3E06B082924774D4DA286861E56CCFCD' and migrating attributes.
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 47A4934E393F3635AB41D246A2F12F52
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from 3E06B082924774D4DA286861E56CCFCD
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 47A4934E393F3635AB41D246A2F12F52, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0
2025-08-21 01:34:46 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@4dc2d6b4]
2025-08-21 01:34:46 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/dashboard
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/dashboard
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/dashboard", parameters={}
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#dashboard(CustomUserDetails, Model)
2025-08-21 01:34:46 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - === LECTURER DASHBOARD ACCESS ===
2025-08-21 01:34:46 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - User: GV005
2025-08-21 01:34:46 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - Loading lecturer dashboard for lecturer: GV005
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-21 01:34:47 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Lecturer dashboard loaded successfully for GV005: 2 classes, 17 students, 0 classes today
2025-08-21 01:34:47 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:34:47 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:47 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:34:47 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:34:47 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:34:47 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:34:47 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:34:47 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:34:47 [http-nio-8080-exec-2] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:34:47 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:34:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:34:47 [http-nio-8080-exec-8] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:34:47 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-21 01:34:48 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-4] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Classes page loaded successfully for lecturer GV005: 2 classes
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-6] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:48 [http-nio-8080-exec-6] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:34:48 [http-nio-8080-exec-6] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:34:48 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:48 [http-nio-8080-exec-6] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:34:48 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-21 01:34:48 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-21 01:34:48 [http-nio-8080-exec-1] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:48 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - ‚úÖ Found 2 classes for lecturer GV005
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerApiController - ‚úÖ Statistics calculated for lecturer GV005: 2 classes, 17 students
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@4b33e40f]
2025-08-21 01:34:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:34:48 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-21 01:34:48 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-21 01:34:48 [http-nio-8080-exec-2] INFO  c.t.f.Controller.HocKyController - L·∫•y danh s√°ch t·∫•t c·∫£ h·ªçc k·ª≥
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-21 01:34:48 [http-nio-8080-exec-8] INFO  c.t.f.Controller.NamHocController - L·∫•y danh s√°ch t·∫•t c·∫£ nƒÉm h·ªçc
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=H·ªçc k·ª≥ 1 - NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-21 01:34:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-21 01:34:48 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-21 01:34:48 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HocKyController - L·∫•y h·ªçc k·ª≥ hi·ªán t·∫°i
2025-08-21 01:34:48 [http-nio-8080-exec-7] INFO  c.t.f.Controller.NamHocController - L·∫•y nƒÉm h·ªçc hi·ªán t·∫°i
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=H·ªçc k·ª≥ 1 - NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-21 01:34:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:48 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:34:49 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:34:49 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:34:49 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:34:49 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:34:49 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:34:49 [http-nio-8080-exec-5] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:34:49 [http-nio-8080-exec-5] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:34:49 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:34:49 [http-nio-8080-exec-5] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:34:49 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:34:49 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:49 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:49 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:34:50 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:34:50 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:50 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:34:50 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:50 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:34:50 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:34:51 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalSessions=1, maSv=21072006025, presentCount=1, (truncated)...]
2025-08-21 01:34:51 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:11 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:11 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:35:12 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:35:12 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:35:12 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:35:12 [http-nio-8080-exec-1] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:35:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@497f9fd0, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=3E06B082924774D4DA286861E56CCFCD], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:12 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:12 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:13 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-08-21 01:35:13 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-21 01:35:13 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-21 01:35:13 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:35:13 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-21 01:35:13 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]]
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@124e7cd7]
2025-08-21 01:35:13 [Thread-5] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:13 [Thread-5] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:13 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:35:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-08-21 01:35:13 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-08-21 01:35:13 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 31500 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-21 01:35:13 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-21 01:35:13 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-21 01:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-21 01:35:14 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 21 JPA repository interfaces.
2025-08-21 01:35:15 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Registering custom error pages for Face Attendance System
2025-08-21 01:35:15 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Error pages registered successfully
2025-08-21 01:35:15 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-21 01:35:15 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:15 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-21 01:35:15 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-21 01:35:15 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-21 01:35:15 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1654 ms
2025-08-21 01:35:15 [restartedMain] WARN  o.a.c.c.C.[Tomcat].[localhost].[/] - Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [47A4934E393F3635AB41D246A2F12F52]
2025-08-21 01:35:15 [restartedMain] ERROR o.a.catalina.session.StandardManager - Exception loading sessions from persistent storage
java.lang.ClassCastException: class java.io.ObjectStreamClass cannot be cast to class java.lang.String (java.io.ObjectStreamClass and java.lang.String are in module java.base of loader 'bootstrap')
	at java.base/java.io.ObjectInputStream.readTypeString(ObjectInputStream.java:1730)
	at java.base/java.io.ObjectStreamClass.readNonProxy(ObjectStreamClass.java:606)
	at java.base/java.io.ObjectInputStream.readClassDescriptor(ObjectInputStream.java:941)
	at java.base/java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1935)
	at java.base/java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1818)
	at java.base/java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2134)
	at java.base/java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1653)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:495)
	at java.base/java.io.ObjectInputStream.readObject(ObjectInputStream.java:453)
	at org.apache.catalina.session.StandardSession.doReadObject(StandardSession.java:1198)
	at org.apache.catalina.session.StandardSession.readObjectData(StandardSession.java:831)
	at org.apache.catalina.session.StandardManager.doLoad(StandardManager.java:210)
	at org.apache.catalina.session.StandardManager.load(StandardManager.java:156)
	at org.apache.catalina.session.StandardManager.startInternal(StandardManager.java:345)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4494)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:772)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1203)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1193)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:328)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:749)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:203)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:415)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:870)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:164)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:437)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:128)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:107)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:517)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:219)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:193)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:167)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:621)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
2025-08-21 01:35:15 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-21 01:35:15 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-21 01:35:15 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-21 01:35:15 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-21 01:35:15 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-21 01:35:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-08-21 01:35:15 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@146db6fb
2025-08-21 01:35:15 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-08-21 01:35:15 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-21 01:35:15 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-21 01:35:15 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-21 01:35:16 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-21 01:35:16 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-21 01:35:16 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:35:16 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-21 01:35:16 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:35:16 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:35:18 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-21 01:35:18 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-21 01:35:19 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-21 01:35:19 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 362 mappings in 'requestMappingHandlerMapping'
2025-08-21 01:35:19 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-21 01:35:19 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-21 01:35:19 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-21 01:35:19 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-21 01:35:19 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-21 01:35:19 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring view controllers
2025-08-21 01:35:19 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ View controllers configured successfully
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-21 01:35:20 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring static resource handlers
2025-08-21 01:35:20 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Static resource handlers configured successfully
2025-08-21 01:35:20 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - üîß Configuring static resource handlers
2025-08-21 01:35:20 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-21 01:35:20 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added CLASSPATH streams handler
2025-08-21 01:35:20 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ All resource handlers configured successfully
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-21 01:35:20 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-21 01:35:20 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-21 01:35:21 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:35:21 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]
2025-08-21 01:35:21 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]]
2025-08-21 01:35:21 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:21 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:21 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:21 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-21 01:35:21 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 8.275 seconds (process running for 55.136)
2025-08-21 01:35:22 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-21 01:35:22 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-21 01:35:23 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (2 additions, 0 deletions, 0 modifications)
2025-08-21 01:35:23 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-08-21 01:35:23 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-08-21 01:35:23 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel removed SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:35:23 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopping...
2025-08-21 01:35:23 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=false, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]]
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - brokerChannel removed SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@49071840]
2025-08-21 01:35:23 [Thread-7] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Stopped.
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - clientInboundChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:23 [Thread-7] DEBUG org.springframework.web.SimpLogging - brokerChannel removed UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:23 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:35:23 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-08-21 01:35:23 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-08-21 01:35:23 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Starting FaceAttendanceApplication using Java 24 with PID 31500 (D:\LuanVan\face-attendance\target\classes started by thanh in D:\LuanVan\face-attendance)
2025-08-21 01:35:23 [restartedMain] DEBUG c.t.f.FaceAttendanceApplication - Running with Spring Boot v3.4.4, Spring v6.2.5
2025-08-21 01:35:23 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - No active profile set, falling back to 1 default profile: "default"
2025-08-21 01:35:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-08-21 01:35:24 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 67 ms. Found 21 JPA repository interfaces.
2025-08-21 01:35:24 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Registering custom error pages for Face Attendance System
2025-08-21 01:35:24 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Error pages registered successfully
2025-08-21 01:35:24 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-08-21 01:35:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:24 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-08-21 01:35:24 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.39]
2025-08-21 01:35:24 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-08-21 01:35:24 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1128 ms
2025-08-21 01:35:24 [restartedMain] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-08-21 01:35:24 [restartedMain] DEBUG o.s.w.s.r.ResourceUrlEncodingFilter - Filter 'resourceUrlEncodingFilter' configured for use
2025-08-21 01:35:24 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-08-21 01:35:24 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-08-21 01:35:24 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-08-21 01:35:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-08-21 01:35:24 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@26e409f5
2025-08-21 01:35:24 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-08-21 01:35:24 [restartedMain] WARN  org.hibernate.dialect.Dialect - HHH000511: The 5.5.5 version for [org.hibernate.dialect.MySQLDialect] is no longer supported, hence certain features may not work properly. The minimum supported version is 8.0.0. Check the community dialects project for available legacy versions.
2025-08-21 01:35:24 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-08-21 01:35:24 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 5.5.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-08-21 01:35:25 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-08-21 01:35:25 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column ma_sv varchar(20) not null
2025-08-21 01:35:25 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column ma_sv varchar(20) not null" via JDBC [Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan']
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: java.sql.SQLException: Cannot change column 'ma_sv': used in a foreign key constraint 'FK2gqolxaphl30pjr7l2dbs8x8w' of table 'face_attendance_legacy.taikhoan'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:121)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:35:25 [restartedMain] DEBUG org.hibernate.SQL - 
    alter table sinhvien 
       modify column embedding varchar(255)
2025-08-21 01:35:26 [restartedMain] WARN  o.h.t.s.i.ExceptionHandlerLoggedImpl - GenerationTarget encountered exception accepting command : Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL "
    alter table sinhvien 
       modify column embedding varchar(255)" via JDBC [Data truncation: Data too long for column 'embedding' at row 1]
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:94)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:576)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:516)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.migrateTable(AbstractSchemaMigrator.java:334)
	at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:84)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:233)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:112)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1430)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1859)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:523)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:347)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.tathanhloc.faceattendance.FaceAttendanceApplication.main(FaceAttendanceApplication.java:22)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:565)
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50)
Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Data too long for column 'embedding' at row 1
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:96)
	at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:837)
	at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:685)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:80)
	... 40 common frames omitted
2025-08-21 01:35:26 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-08-21 01:35:28 [restartedMain] INFO  o.s.s.c.a.a.c.InitializeAuthenticationProviderBeanManagerConfigurer$InitializeAuthenticationProviderManagerConfigurer - Global AuthenticationManager configured with AuthenticationProvider bean with name authenticationProvider
2025-08-21 01:35:28 [restartedMain] WARN  o.s.s.c.a.a.c.InitializeUserDetailsBeanManagerConfigurer$InitializeUserDetailsManagerConfigurer - Global AuthenticationManager configured with an AuthenticationProvider bean. UserDetailsService beans will not be used by Spring Security for automatically configuring username/password login. Consider removing the AuthenticationProvider bean. Alternatively, consider using the UserDetailsService in a manually instantiated DaoAuthenticationProvider. If the current configuration is intentional, to turn off this warning, increase the logging level of 'org.springframework.security.config.annotation.authentication.configuration.InitializeUserDetailsBeanManagerConfigurer' to ERROR
2025-08-21 01:35:28 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-08-21 01:35:28 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 364 mappings in 'requestMappingHandlerMapping'
2025-08-21 01:35:28 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python wrapper script created: .\extract_wrapper.py
2025-08-21 01:35:28 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Bash script created: .\run_extraction.sh
2025-08-21 01:35:28 [restartedMain] INFO  c.t.f.S.PythonFeatureExtractionService - Python scripts initialized successfully at: .
2025-08-21 01:35:28 [restartedMain] DEBUG o.s.w.s.s.s.WebSocketHandlerMapping - Patterns [/ws/**, /admin-ws/**] in 'stompWebSocketHandlerMapping'
2025-08-21 01:35:29 [restartedMain] INFO  o.s.b.a.w.s.WelcomePageHandlerMapping - Adding welcome page template: index
2025-08-21 01:35:29 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring view controllers
2025-08-21 01:35:29 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ View controllers configured successfully
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.c.a.WebMvcConfigurer - Default resource handling disabled
2025-08-21 01:35:29 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - üîß Configuring static resource handlers
2025-08-21 01:35:29 [restartedMain] INFO  c.t.f.Config.ErrorPageConfig - ‚úÖ Static resource handlers configured successfully
2025-08-21 01:35:29 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - üîß Configuring static resource handlers
2025-08-21 01:35:29 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added SRC streams handler: file:///D:/LuanVan/face-attendance/src/main/resources/static/streams
2025-08-21 01:35:29 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ Added CLASSPATH streams handler
2025-08-21 01:35:29 [restartedMain] INFO  c.t.faceattendance.Config.WebConfig - ‚úÖ All resource handlers configured successfully
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/static/**, /css/**, /js/**, /images/**, /favicon.ico, /streams/**, /uploads/**, /swagger-ui*/*swagger-initializer.js, /swagger-ui*/**] in 'resourceHandlerMapping'
2025-08-21 01:35:29 [restartedMain] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 1 endpoint beneath base path '/actuator'
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.s.web.DefaultSecurityFilterChain - Will secure any request with filters: DisableEncodeUrlFilter, WebAsyncManagerIntegrationFilter, SecurityContextHolderFilter, HeaderWriterFilter, CorsFilter, LogoutFilter, UsernamePasswordAuthenticationFilter, ConcurrentSessionFilter, RequestCacheAwareFilter, SecurityContextHolderAwareRequestFilter, AnonymousAuthenticationFilter, SessionManagementFilter, ExceptionTranslationFilter, AuthorizationFilter
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AdminDashboardController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AttendanceReportController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.AuthController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CameraController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.CustomErrorController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DangKyHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.DiemDanhController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ErrorPageController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.FlaskIntegrationController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.GiangVienController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HocKyNamHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.HomeController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.KhoaHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerApiController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LecturerDashboardController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LichHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.LopHocPhanController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.MonHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NamHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.NganhMonHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PhongHocController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonApiController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.PythonFeatureExtractionController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.RealtimeController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.ROIController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SinhVienController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StreamPageController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentAttendanceController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.StudentDashboardController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SwaggerController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.SystemLogController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.TaiKhoanController:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	c.t.f.C.WebSocketController:
	{[MESSAGE],[/attendance-update]}: handleAttendanceUpdate(DiemDanhDTO)
	{[MESSAGE],[/system-status]}: handleSystemStatusRequest()
	{[MESSAGE],[/roi-update]}: handleROIUpdate(ROIUpdateEventDTO)
	{[MESSAGE],[/face-detection]}: handleFaceDetection(FaceDetectionDTO)
	{[MESSAGE],[/camera-status]}: handleCameraStatus(CameraStatusEventDTO)
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.a.OpenApiWebMvcResource:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerWelcomeWebMvc:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.WebSocketAnnotationMethodMessageHandler - 
	o.s.w.u.SwaggerConfigResource:
	
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-08-21 01:35:29 [restartedMain] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-08-21 01:35:30 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientOutboundChannel added SubProtocolWebSocketHandler[StompSubProtocolHandler[v10.stomp, v11.stomp, v12.stomp]]
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added WebSocketAnnotationMethodMessageHandler[prefixes=[/app/]]
2025-08-21 01:35:30 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Starting...
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5fde02b9]
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5fde02b9]
2025-08-21 01:35:30 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - BrokerAvailabilityEvent[available=true, SimpleBrokerMessageHandler [org.springframework.messaging.simp.broker.DefaultSubscriptionRegistry@5fde02b9]]
2025-08-21 01:35:30 [restartedMain] INFO  o.s.m.s.b.SimpleBrokerMessageHandler - Started.
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - clientInboundChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:30 [restartedMain] DEBUG org.springframework.web.SimpLogging - brokerChannel added UserDestinationMessageHandler[DefaultUserDestinationResolver[prefix=/user/]]
2025-08-21 01:35:30 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-08-21 01:35:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-08-21 01:35:30 [restartedMain] INFO  c.t.f.FaceAttendanceApplication - Started FaceAttendanceApplication in 6.983 seconds (process running for 63.602)
2025-08-21 01:35:30 [restartedMain] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-21 01:35:30 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-08-21 01:35:30 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-08-21 01:35:30 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21582b24
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@32b8b74c
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-08-21 01:35:30 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-08-21 01:35:30 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 47A4934E393F3635AB41D246A2F12F52
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.SessionManagementFilter - Request requested invalid session id 47A4934E393F3635AB41D246A2F12F52
2025-08-21 01:35:30 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/diemdanh/stats/class/G09412_01?continue to session
2025-08-21 01:35:30 [http-nio-8080-exec-4] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/diemdanh/stats/students/G09412_01?continue to session
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:30 [http-nio-8080-exec-5] INFO  o.s.s.a.AnnotationAsyncExecutionInterceptor - More than one TaskExecutor bean found within the context, and none is named 'taskExecutor'. Mark one of them as primary or name it 'taskExecutor' (possibly as an alias) in order to use it for async processing: [clientInboundChannelExecutor, clientOutboundChannelExecutor, brokerChannelExecutor, messageBrokerTaskScheduler]
2025-08-21 01:35:30 [SimpleAsyncTaskExecutor-1] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:30 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:30 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:30 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:30 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:30 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:30 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:30 [SimpleAsyncTaskExecutor-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:30 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:31 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:31 [http-nio-8080-exec-2] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/diemdanh/stats/students/G09412_01?continue to session
2025-08-21 01:35:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/api/diemdanh/stats/class/G09412_01?continue to session
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-9] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:32 [SimpleAsyncTaskExecutor-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:32 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:32 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:32 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:32 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:32 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:32 [http-nio-8080-exec-10] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:32 [SimpleAsyncTaskExecutor-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:33 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:35:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-3] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/lecturer/lophoc/G09412_01?continue to session
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-4] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:35:33 [SimpleAsyncTaskExecutor-5] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:33 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:33 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-5] DEBUG o.s.s.w.s.HttpSessionRequestCache - Saved request http://localhost:8080/.well-known/appspecific/com.chrome.devtools.json?continue to session
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /?error=not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/common.css
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /?error=not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/?error=not_authenticated", parameters={masked}
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HomeController#index(Authentication, String, String, Model)
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/common.css
2025-08-21 01:35:33 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - === HOME PAGE ACCESS ===
2025-08-21 01:35:33 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Authentication present: false
2025-08-21 01:35:33 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Is authenticated: false
2025-08-21 01:35:33 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Error message: not_authenticated
2025-08-21 01:35:33 [http-nio-8080-exec-8] INFO  c.t.f.Controller.HomeController - Showing login page
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/common.css", parameters={}
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/auth.css
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/auth.css
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/auth.css", parameters={}
2025-08-21 01:35:33 [SimpleAsyncTaskExecutor-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:33 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:33 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:33 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing POST /login
2025-08-21 01:35:34 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - Loading user by username: gv005
2025-08-21 01:35:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        tk1_0.id,
        tk1_0.created_at,
        tk1_0.ma_gv,
        tk1_0.is_active,
        tk1_0.password_hash,
        tk1_0.ma_sv,
        tk1_0.username,
        tk1_0.vai_tro 
    from
        taikhoan tk1_0 
    where
        tk1_0.username=?
2025-08-21 01:35:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:35:34 [http-nio-8080-exec-1] INFO  c.t.f.S.CustomUserDetailsService - User found: GV005 with role: GIANGVIEN and active status: true
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.a.d.DaoAuthenticationProvider - Authenticated user
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Invalidating session with Id 'B4CD6CB2F3F276AA71B0D477A2C8356D' and migrating attributes.
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Started new session: 0232E50B2E2572876942C1F284665368
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.s.SessionFixationProtectionStrategy - Changed session id from B4CD6CB2F3F276AA71B0D477A2C8356D
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.c.session.SessionRegistryImpl - Registering session 0232E50B2E2572876942C1F284665368, for principal com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Stored SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]] to HttpSession [org.apache.catalina.session.StandardSessionFacade@45840e6c]
2025-08-21 01:35:35 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.UsernamePasswordAuthenticationFilter - Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]
2025-08-21 01:35:35 [SimpleAsyncTaskExecutor-7] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/dashboard
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/dashboard
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/dashboard", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#dashboard(CustomUserDetails, Model)
2025-08-21 01:35:35 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - === LECTURER DASHBOARD ACCESS ===
2025-08-21 01:35:35 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - User: GV005
2025-08-21 01:35:35 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - Loading lecturer dashboard for lecturer: GV005
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.is_current
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    where
        dd1_0.ngay_diem_danh=?
2025-08-21 01:35:35 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Lecturer dashboard loaded successfully for GV005: 2 classes, 17 students, 0 classes today
2025-08-21 01:35:35 [SimpleAsyncTaskExecutor-8] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:35:35 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:35 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:35:35 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:35:35 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:35:35 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:35:35 [SimpleAsyncTaskExecutor-9] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:35:35 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:35:35 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:35:35 [SimpleAsyncTaskExecutor-10] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:35:35 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:35:35 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:35:35 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:35 [SimpleAsyncTaskExecutor-11] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#lophoc(Authentication, Model, String, String)
2025-08-21 01:35:37 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading classes page for lecturer: GV005
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Classes page loaded successfully for lecturer GV005: 2 classes
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-12] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/lecturer.css
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/lecturer.css
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/lecturer.css", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/lophoc
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/lophoc
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/lophoc", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLopHocByLecturer(CustomUserDetails, String, String, Boolean, String)
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER CLASSES ===
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - User: GV005
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - Filters - Semester: null, Year: null, Active: null, Search: null
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - Loading classes for lecturer: GV005
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/lecturer/statistics
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/lecturer/statistics
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/lecturer/statistics", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerApiController#getLecturerStatistics(CustomUserDetails)
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:35:37 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - === API GET LECTURER STATISTICS ===
2025-08-21 01:35:37 [http-nio-8080-exec-10] INFO  c.t.f.Service.LopHocPhanService - Getting all LopHocPhan with full names
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        lhp1_0.ma_gv,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        lhp1_0.ma_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa 
    from
        giangvien gv1_0 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    where
        gv1_0.ma_gv=?
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh 
    from
        monhoc mh1_0 
    where
        mh1_0.ma_mh=?
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:37 [http-nio-8080-exec-9] INFO  c.t.f.C.LecturerApiController - ‚úÖ Found 2 classes for lecturer GV005
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-13] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[LopHocPhanDTO(maLhp=G09412_01, hocKy=2025-2026_HK1, namHoc=2025-2026, nhom=1, isActive=true, maMh=C (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerApiController - ‚úÖ Statistics calculated for lecturer GV005: 2 classes, 17 students
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-14] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [com.tathanhloc.faceattendance.Controller.LecturerApiController$LecturerStatisticsDTO@1e971f1b]
2025-08-21 01:35:37 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getAll()
2025-08-21 01:35:37 [http-nio-8080-exec-3] INFO  c.t.f.Controller.HocKyController - L·∫•y danh s√°ch t·∫•t c·∫£ h·ªçc k·ª≥
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getAll()
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-15] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:35:37 [http-nio-8080-exec-4] INFO  c.t.f.Controller.NamHocController - L·∫•y danh s√°ch t·∫•t c·∫£ nƒÉm h·ªçc
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-16] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=H·ªçc k·ª≥ 1 - NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-07-08, nga (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-17] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[NamHocDTO(maNamHoc=2025-2026, tenNamHoc=NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=202 (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/hocky/current
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/hocky/current
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/hocky/current", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.HocKyController#getCurrentSemester()
2025-08-21 01:35:37 [http-nio-8080-exec-7] INFO  c.t.f.Controller.HocKyController - L·∫•y h·ªçc k·ª≥ hi·ªán t·∫°i
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/namhoc/current
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/namhoc/current
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/namhoc/current", parameters={}
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.NamHocController#getCurrentAcademicYear()
2025-08-21 01:35:37 [http-nio-8080-exec-6] INFO  c.t.f.Controller.NamHocController - L·∫•y nƒÉm h·ªçc hi·ªán t·∫°i
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-18] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [SimpleAsyncTaskExecutor-19] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [HocKyDTO(maHocKy=2025-2026_HK1, tenHocKy=H·ªçc k·ª≥ 1 - NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-07-08, ngay (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [NamHocDTO(maNamHoc=2025-2026, tenNamHoc=NƒÉm h·ªçc 2025 - 2026, ngayBatDau=2025-08-10, ngayKetThuc=2026 (truncated)...]
2025-08-21 01:35:37 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:37 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:35:39 [http-nio-8080-exec-8] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:35:39 [http-nio-8080-exec-8] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:35:39 [SimpleAsyncTaskExecutor-20] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:35:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:35:39 [http-nio-8080-exec-9] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:35:39 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [SimpleAsyncTaskExecutor-21] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:39 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:39 [SimpleAsyncTaskExecutor-22] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:39 [SimpleAsyncTaskExecutor-23] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:39 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:45 [SimpleAsyncTaskExecutor-24] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:45 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalRecords=2, maSv=21072006025, presentCount=1,  (truncated)...]
2025-08-21 01:35:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:53 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:53 [SimpleAsyncTaskExecutor-25] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:53 [SimpleAsyncTaskExecutor-26] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:55 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:55 [SimpleAsyncTaskExecutor-27] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:55 [SimpleAsyncTaskExecutor-28] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:55 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:35:56 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:56 [SimpleAsyncTaskExecutor-29] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:35:56 [SimpleAsyncTaskExecutor-30] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:56 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:35:58 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:35:58 [http-nio-8080-exec-10] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:35:58 [http-nio-8080-exec-10] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:35:58 [http-nio-8080-exec-10] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:35:58 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:35:58 [http-nio-8080-exec-10] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:35:58 [SimpleAsyncTaskExecutor-31] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:35:58 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:36:09 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:36:09 [SimpleAsyncTaskExecutor-32] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:36:09 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:36:09 [SimpleAsyncTaskExecutor-33] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:36:30 [MessageBroker-1] INFO  o.s.w.s.c.WebSocketMessageBrokerStats - WebSocketSession[0 current WS(0)-HttpStream(0)-HttpPoll(0), 0 total, 0 closed abnormally (0 connect failure, 0 send limit, 0 transport error)], stompSubProtocol[processed CONNECT(0)-CONNECTED(0)-DISCONNECT(0)], stompBrokerRelay[null], inboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], outboundChannel[pool size = 0, active threads = 0, queued tasks = 0, completed tasks = 0], sockJsScheduler[pool size = 1, active threads = 1, queued tasks = 0, completed tasks = 0]
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:36:39 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:36:39 [SimpleAsyncTaskExecutor-34] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:36:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:36:39 [SimpleAsyncTaskExecutor-35] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:37:09 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:37:09 [SimpleAsyncTaskExecutor-36] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:37:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:37:09 [SimpleAsyncTaskExecutor-37] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:37:39 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:37:39 [SimpleAsyncTaskExecutor-38] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:37:39 [SimpleAsyncTaskExecutor-39] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:37:39 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:38:09 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:09 [SimpleAsyncTaskExecutor-40] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:38:09 [SimpleAsyncTaskExecutor-41] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:38:09 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:38:21 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:21 [SimpleAsyncTaskExecutor-42] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:38:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:21 [SimpleAsyncTaskExecutor-43] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:38:39 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [SimpleAsyncTaskExecutor-44] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:38:39 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:38:39 [SimpleAsyncTaskExecutor-45] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:39:09 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:39:09 [SimpleAsyncTaskExecutor-46] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:39:09 [SimpleAsyncTaskExecutor-47] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:39:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:11 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:11 [SimpleAsyncTaskExecutor-48] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:11 [SimpleAsyncTaskExecutor-49] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:21 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:21 [SimpleAsyncTaskExecutor-50] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:21 [SimpleAsyncTaskExecutor-51] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:21 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:21 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:21 [SimpleAsyncTaskExecutor-52] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:21 [SimpleAsyncTaskExecutor-53] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:21 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:40:22 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:40:22 [http-nio-8080-exec-1] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:40:22 [SimpleAsyncTaskExecutor-54] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:22 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:40:22 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:40:22 [http-nio-8080-exec-4] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:40:22 [http-nio-8080-exec-4] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:40:22 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:40:22 [http-nio-8080-exec-4] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:40:22 [SimpleAsyncTaskExecutor-55] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:40:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:40:23 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:40:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:23 [SimpleAsyncTaskExecutor-56] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:23 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:23 [SimpleAsyncTaskExecutor-57] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:23 [SimpleAsyncTaskExecutor-58] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:29 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [SimpleAsyncTaskExecutor-59] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:29 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:29 [SimpleAsyncTaskExecutor-60] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:34 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:34 [SimpleAsyncTaskExecutor-61] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:34 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:34 [SimpleAsyncTaskExecutor-62] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:41 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:41 [SimpleAsyncTaskExecutor-63] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:41 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:41 [SimpleAsyncTaskExecutor-64] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:46 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:46 [SimpleAsyncTaskExecutor-65] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:46 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:46 [SimpleAsyncTaskExecutor-66] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:40:53 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [SimpleAsyncTaskExecutor-67] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:40:53 [SimpleAsyncTaskExecutor-68] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:40:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:41:23 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:41:23 [SimpleAsyncTaskExecutor-69] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:41:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:41:23 [SimpleAsyncTaskExecutor-70] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:41:53 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:41:53 [SimpleAsyncTaskExecutor-71] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:41:53 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:41:53 [SimpleAsyncTaskExecutor-72] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:42:23 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:23 [SimpleAsyncTaskExecutor-73] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:42:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:42:23 [SimpleAsyncTaskExecutor-74] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:42:53 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [SimpleAsyncTaskExecutor-75] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:42:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:42:53 [SimpleAsyncTaskExecutor-76] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-77] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-78] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-79] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-80] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-81] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:43:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:23 [SimpleAsyncTaskExecutor-82] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:43:24 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:43:24 [http-nio-8080-exec-10] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:43:24 [SimpleAsyncTaskExecutor-83] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:24 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:24 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:43:24 [http-nio-8080-exec-3] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:43:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:24 [SimpleAsyncTaskExecutor-84] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:43:25 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:25 [SimpleAsyncTaskExecutor-85] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:43:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:25 [SimpleAsyncTaskExecutor-86] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalRecords=2, maSv=21072006025, presentCount=1,  (truncated)...]
2025-08-21 01:43:27 [SimpleAsyncTaskExecutor-87] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:27 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:31 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:43:32 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:43:32 [http-nio-8080-exec-2] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:43:32 [http-nio-8080-exec-2] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:43:32 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:43:32 [http-nio-8080-exec-2] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:43:32 [SimpleAsyncTaskExecutor-88] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:43:32 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:43:54 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:43:54 [SimpleAsyncTaskExecutor-89] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:43:54 [SimpleAsyncTaskExecutor-90] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:43:54 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:44:24 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:44:24 [SimpleAsyncTaskExecutor-91] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:44:24 [SimpleAsyncTaskExecutor-92] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:44:24 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:44:54 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [SimpleAsyncTaskExecutor-93] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:44:54 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:44:54 [SimpleAsyncTaskExecutor-94] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:45:21 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:45:21 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [SimpleAsyncTaskExecutor-95] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:45:21 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:21 [SimpleAsyncTaskExecutor-96] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:45:22 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:45:22 [http-nio-8080-exec-2] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:45:22 [SimpleAsyncTaskExecutor-97] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:22 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:45:22 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:45:22 [http-nio-8080-exec-9] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:45:22 [http-nio-8080-exec-9] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:45:22 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:45:22 [http-nio-8080-exec-9] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:45:22 [SimpleAsyncTaskExecutor-98] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:45:22 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:22 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:22 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:45:23 [http-nio-8080-exec-5] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:45:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:23 [SimpleAsyncTaskExecutor-99] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:45:23 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:45:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:23 [SimpleAsyncTaskExecutor-100] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:45:23 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:23 [SimpleAsyncTaskExecutor-101] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalRecords=2, maSv=21072006025, presentCount=1,  (truncated)...]
2025-08-21 01:45:25 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:25 [SimpleAsyncTaskExecutor-102] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:45:53 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:53 [SimpleAsyncTaskExecutor-103] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:45:53 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:45:53 [SimpleAsyncTaskExecutor-104] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:46:23 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:46:23 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [SimpleAsyncTaskExecutor-105] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:46:23 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:46:23 [SimpleAsyncTaskExecutor-106] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:46:53 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:46:53 [SimpleAsyncTaskExecutor-107] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:46:53 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:46:53 [SimpleAsyncTaskExecutor-108] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:47:23 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:47:23 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [SimpleAsyncTaskExecutor-109] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:47:23 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:47:23 [SimpleAsyncTaskExecutor-110] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:47:53 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:47:53 [SimpleAsyncTaskExecutor-111] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:47:53 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:47:53 [SimpleAsyncTaskExecutor-112] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:48:04 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:04 [SimpleAsyncTaskExecutor-113] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:48:04 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:04 [SimpleAsyncTaskExecutor-114] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:48:09 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:09 [SimpleAsyncTaskExecutor-115] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:48:09 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:09 [SimpleAsyncTaskExecutor-116] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:48:23 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:23 [SimpleAsyncTaskExecutor-117] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:48:23 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:23 [SimpleAsyncTaskExecutor-118] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:48:53 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [SimpleAsyncTaskExecutor-119] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:48:53 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:48:53 [SimpleAsyncTaskExecutor-120] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:50:11 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [SimpleAsyncTaskExecutor-121] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:50:11 [SimpleAsyncTaskExecutor-122] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:50:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:51:10 [http-nio-8080-exec-2] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:10 [SimpleAsyncTaskExecutor-123] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:51:10 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:51:10 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:10 [SimpleAsyncTaskExecutor-124] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:10 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:51:11 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:11 [SimpleAsyncTaskExecutor-125] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:51:11 [SimpleAsyncTaskExecutor-126] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:11 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:51:11 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:51:11 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:51:12 [http-nio-8080-exec-5] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:51:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:51:12 [SimpleAsyncTaskExecutor-127] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:51:12 [http-nio-8080-exec-3] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:51:12 [http-nio-8080-exec-3] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:51:12 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:51:12 [http-nio-8080-exec-3] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:51:12 [SimpleAsyncTaskExecutor-128] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:51:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:12 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:51:12 [http-nio-8080-exec-7] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:51:12 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:12 [SimpleAsyncTaskExecutor-129] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:51:12 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [SimpleAsyncTaskExecutor-130] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:51:12 [SimpleAsyncTaskExecutor-131] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:12 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalRecords=2, maSv=21072006025, presentCount=1,  (truncated)...]
2025-08-21 01:51:13 [SimpleAsyncTaskExecutor-132] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:13 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:51:42 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [SimpleAsyncTaskExecutor-133] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:51:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:51:42 [SimpleAsyncTaskExecutor-134] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:52:12 [http-nio-8080-exec-3] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:52:12 [SimpleAsyncTaskExecutor-135] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:52:12 [SimpleAsyncTaskExecutor-136] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:52:12 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:52:42 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:52:42 [SimpleAsyncTaskExecutor-137] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:52:42 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:52:42 [SimpleAsyncTaskExecutor-138] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:53:05 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [SimpleAsyncTaskExecutor-139] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:05 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:53:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:05 [SimpleAsyncTaskExecutor-140] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:53:12 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:12 [SimpleAsyncTaskExecutor-141] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:53:12 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:12 [SimpleAsyncTaskExecutor-142] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:53:42 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:53:42 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [SimpleAsyncTaskExecutor-143] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:53:42 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:42 [SimpleAsyncTaskExecutor-144] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:53:46 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:53:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [SimpleAsyncTaskExecutor-145] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:53:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:46 [SimpleAsyncTaskExecutor-146] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/lophoc/G09412_01
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/lophoc/G09412_01
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/lophoc/G09412_01", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.LecturerDashboardController#chiTietLopHoc(String, CustomUserDetails, Model)
2025-08-21 01:53:47 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - Loading class details for lecturer GV005 and class G09412_01
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:53:47 [http-nio-8080-exec-6] INFO  c.t.f.C.LecturerDashboardController - ‚úÖ Class details loaded for G09412_01: 8 students
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]
2025-08-21 01:53:47 [SimpleAsyncTaskExecutor-147] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:47 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/.well-known/appspecific/com.chrome.devtools.json", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No mapping for GET /.well-known/appspecific/com.chrome.devtools.json
2025-08-21 01:53:47 [http-nio-8080-exec-7] WARN  o.s.web.servlet.PageNotFound - No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.]
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 404 NOT_FOUND
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - "ERROR" dispatch for GET "/error", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.CustomErrorController#handleError(HttpServletRequest, Model)
2025-08-21 01:53:47 [http-nio-8080-exec-7] ERROR c.t.f.C.CustomErrorController - üö® Custom Error Handler - Status: 404 | Path: /.well-known/appspecific/com.chrome.devtools.json | Message: No endpoint GET /.well-known/appspecific/com.chrome.devtools.json.
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG c.t.f.C.CustomErrorController - üîç Request Analysis: URI=/error, Accept=null, ContentType=null, IsAPI=false
2025-08-21 01:53:47 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - üåê Handling as Web request
2025-08-21 01:53:47 [http-nio-8080-exec-7] INFO  c.t.f.C.CustomErrorController - üîç 404 Not Found - Redirecting to 404 page
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.w.s.v.ContentNegotiatingViewResolver - Selected '*/*' given [*/*]
2025-08-21 01:53:47 [SimpleAsyncTaskExecutor-148] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Exiting from "ERROR" dispatch, status 404
2025-08-21 01:53:47 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /css/sidebar.css
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /css/sidebar.css
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/css/sidebar.css", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/css/]]
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /js/sidebar.js
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /js/sidebar.js
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/js/sidebar.js", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:47 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Mapped to ResourceHttpRequestHandler [classpath [static/js/]]
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:47 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/auth/me
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/auth/me
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/auth/me", parameters={}
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AuthController#getCurrentUser(CustomUserDetails)
2025-08-21 01:53:47 [http-nio-8080-exec-10] INFO  c.t.f.Controller.AuthController - Current user info requested: GV005
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [UserProfileDTO(id=61, username=GV005, vaiTro=GIANGVIEN, isActive=true, hoTen=Ho√†ng VƒÉn E, maSo=GV005 (truncated)...]
2025-08-21 01:53:47 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:47 [SimpleAsyncTaskExecutor-149] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:53:48 [http-nio-8080-exec-9] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:48 [SimpleAsyncTaskExecutor-150] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:53:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:53:48 [SimpleAsyncTaskExecutor-151] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /lecturer/api/attendance-report/G09412_01
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/lecturer/api/attendance-report/G09412_01", parameters={}
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.AttendanceReportController#getAttendanceReport(String, String, String, CustomUserDetails)
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_lhp,
        sv1_1.ma_sv,
        sv1_1.email,
        sv1_1.embedding,
        sv1_1.gioi_tinh,
        sv1_1.hinh_anh,
        sv1_1.ho_ten,
        sv1_1.is_active,
        sv1_1.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_1.ngay_sinh 
    from
        lhp_sinhvien sv1_0 
    join
        sinhvien sv1_1 
            on sv1_1.ma_sv=sv1_0.ma_sv 
    left join
        lop l1_0 
            on l1_0.ma_lop=sv1_1.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        hk1_0.ma_hoc_ky,
        hk1_0.is_active,
        hk1_0.is_current,
        hk1_0.mo_ta,
        hk1_0.ngay_bat_dau,
        hk1_0.ngay_ket_thuc,
        hk1_0.ten_hoc_ky 
    from
        hoc_ky hk1_0 
    where
        hk1_0.ma_hoc_ky=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        nh1_0.ma_nam_hoc,
        nh1_0.is_active,
        nh1_0.is_current,
        nh1_0.mo_ta,
        nh1_0.ngay_bat_dau,
        nh1_0.ngay_ket_thuc,
        nh1_0.ten_nam_hoc 
    from
        nam_hoc nh1_0 
    where
        nh1_0.ma_nam_hoc=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        ph1_0.ma_phong,
        ph1_0.is_active,
        ph1_0.loai_phong,
        ph1_0.mo_ta,
        ph1_0.suc_chua,
        ph1_0.tang,
        ph1_0.ten_phong,
        ph1_0.thiet_bi,
        ph1_0.toa_nha,
        ph1_0.trang_thai,
        ph1_0.vi_tri 
    from
        phonghoc ph1_0 
    where
        ph1_0.ma_phong=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.C.AttendanceReportController - ‚úÖ Calculated semester info for G09412_01: 23 weeks, 1 sessions/week, 23 total sessions
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lh1_0.ma_lich,
        lh1_0.created_at,
        lh1_0.is_active,
        lh1_0.ma_lhp,
        lh1_0.ma_phong,
        lh1_0.so_tiet,
        lh1_0.thu,
        lh1_0.tiet_bat_dau,
        lh1_0.updated_at 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - L·∫•y danh s√°ch ƒëi·ªÉm danh theo m√£ l·ªãch: LH1752009056467XZS
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lichhoc lh1_0 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dd1_0.id,
        dd1_0.ma_lich,
        dd1_0.ngay_diem_danh,
        dd1_0.ma_sv,
        dd1_0.thoi_gian_ra,
        dd1_0.thoi_gian_vao,
        dd1_0.trang_thai 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    where
        lh1_0.ma_lich=?
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{attendanceStats={totalStudents=8, studentStats=[{totalRecords=2, maSv=21072006025, presentCount=1,  (truncated)...]
2025-08-21 01:53:48 [SimpleAsyncTaskExecutor-152] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:53:48 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:54:18 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [SimpleAsyncTaskExecutor-153] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:54:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:54:18 [SimpleAsyncTaskExecutor-154] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:54:48 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:54:48 [SimpleAsyncTaskExecutor-155] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:54:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:54:48 [SimpleAsyncTaskExecutor-156] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:55:08 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:08 [SimpleAsyncTaskExecutor-157] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:55:08 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:08 [SimpleAsyncTaskExecutor-158] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:55:17 [http-nio-8080-exec-4] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [SimpleAsyncTaskExecutor-159] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:55:17 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:17 [SimpleAsyncTaskExecutor-160] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:55:29 [http-nio-8080-exec-6] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:29 [SimpleAsyncTaskExecutor-161] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:55:29 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:29 [SimpleAsyncTaskExecutor-162] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:55:48 [http-nio-8080-exec-10] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:55:48 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:48 [SimpleAsyncTaskExecutor-163] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:55:48 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:55:48 [SimpleAsyncTaskExecutor-164] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:56:18 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:56:18 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [SimpleAsyncTaskExecutor-165] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:56:18 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:18 [SimpleAsyncTaskExecutor-166] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:56:30 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:56:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [SimpleAsyncTaskExecutor-167] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:56:30 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:30 [SimpleAsyncTaskExecutor-168] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:56:43 [http-nio-8080-exec-5] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:43 [SimpleAsyncTaskExecutor-169] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:56:43 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:43 [SimpleAsyncTaskExecutor-170] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:56:47 [http-nio-8080-exec-8] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:47 [SimpleAsyncTaskExecutor-171] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:56:47 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:56:47 [SimpleAsyncTaskExecutor-172] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:57:18 [http-nio-8080-exec-7] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:18 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:57:18 [SimpleAsyncTaskExecutor-173] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:57:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:57:18 [SimpleAsyncTaskExecutor-174] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Securing GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=com.tathanhloc.faceattendance.Security.CustomUserDetails@512eb50c, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=B4CD6CB2F3F276AA71B0D477A2C8356D], Granted Authorities=[ROLE_GIANGVIEN]]]
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/class/G09412_01
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.security.web.FilterChainProxy - Secured GET /api/diemdanh/stats/students/G09412_01
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/students/G09412_01", parameters={}
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/diemdanh/stats/class/G09412_01", parameters={}
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getStudentAttendanceByClass(String)
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.tathanhloc.faceattendance.Controller.DiemDanhController#getAttendanceStatsByClass(String)
2025-08-21 01:57:48 [http-nio-8080-exec-1] INFO  c.t.f.Service.DiemDanhService - T√≠nh t·ª∑ l·ªá ƒëi·ªÉm danh cho l·ªõp G09412_01
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(lh1_0.ma_lich) 
    from
        lichhoc lh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        dkh1_0.ma_lhp,
        dkh1_0.ma_sv,
        dkh1_0.is_active 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        lhp1_0.ma_lhp,
        gv1_0.ma_gv,
        gv1_0.email,
        gv1_0.ho_ten,
        gv1_0.is_active,
        k1_0.ma_khoa,
        k1_0.is_active,
        k1_0.ten_khoa,
        lhp1_0.hoc_ky,
        lhp1_0.is_active,
        mh1_0.ma_mh,
        mh1_0.is_active,
        mh1_0.so_tin_chi,
        mh1_0.ten_mh,
        lhp1_0.nam_hoc,
        lhp1_0.nhom 
    from
        lophocphan lhp1_0 
    left join
        giangvien gv1_0 
            on gv1_0.ma_gv=lhp1_0.ma_gv 
    left join
        khoa k1_0 
            on k1_0.ma_khoa=gv1_0.ma_khoa 
    left join
        monhoc mh1_0 
            on mh1_0.ma_mh=lhp1_0.ma_mh 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(*) 
    from
        lhp_sinhvien dkh1_0 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=dkh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        sv1_0.ma_sv,
        sv1_0.email,
        sv1_0.embedding,
        sv1_0.gioi_tinh,
        sv1_0.hinh_anh,
        sv1_0.ho_ten,
        sv1_0.is_active,
        sv1_0.ma_lop,
        l1_0.ma_lop,
        l1_0.is_active,
        kh1_0.ma_khoahoc,
        kh1_0.nam_bat_dau,
        kh1_0.nam_ket_thuc,
        kh1_0.ten_khoahoc,
        mk1_0.ma_khoa,
        mk1_0.is_active,
        mk1_0.ten_khoa,
        n1_0.ma_nganh,
        n1_0.is_active,
        n1_0.ma_khoa,
        n1_0.ten_nganh,
        l1_0.ten_lop,
        sv1_0.ngay_sinh 
    from
        sinhvien sv1_0 
    join
        lop l1_0 
            on l1_0.ma_lop=sv1_0.ma_lop 
    left join
        khoahoc kh1_0 
            on kh1_0.ma_khoahoc=l1_0.ma_khoahoc 
    left join
        khoa mk1_0 
            on mk1_0.ma_khoa=l1_0.ma_khoa 
    left join
        nganh n1_0 
            on n1_0.ma_nganh=l1_0.ma_nganh 
    where
        sv1_0.ma_sv=?
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [AttendanceStatsDTO(totalSessions=1, totalStudents=8, presentCount=8, absentCount=5, lateCount=1, exc (truncated)...]
2025-08-21 01:57:48 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:57:48 [SimpleAsyncTaskExecutor-175] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - 
    select
        count(dd1_0.id) 
    from
        diemdanh dd1_0 
    left join
        sinhvien sv1_0 
            on sv1_0.ma_sv=dd1_0.ma_sv 
    left join
        lichhoc lh1_0 
            on lh1_0.ma_lich=dd1_0.ma_lich 
    left join
        lophocphan lhp1_0 
            on lhp1_0.ma_lhp=lh1_0.ma_lhp 
    where
        sv1_0.ma_sv=? 
        and lhp1_0.ma_lhp=? 
        and dd1_0.trang_thai=?
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/yaml]
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [[StudentAttendanceDTO(maSv=21072004080, presentCount=2, absentCount=0, lateCount=0, excusedCount=0,  (truncated)...]
2025-08-21 01:57:48 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-08-21 01:57:48 [SimpleAsyncTaskExecutor-176] DEBUG org.hibernate.SQL - 
    insert 
    into
        system_log
        (action, created_at, duration_ms, entity_id, entity_type, error_details, ip_address, log_level, message, module, new_value, old_value, request_method, request_url, session_id, status, user_agent, user_id, user_name) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
